//////==============================================================================================================
/////
////		AM 1.6.3 | Uncompressed 
///
//==================================================================================================================

////================================================================================================================
///			FDX s_code initialization (re-evaluated per page load)
//==================================================================================================================
/*ADOBE: The wrapping fdx_initSCVars function can be remove d */
function fdx_initSCVars() {
	////================================================================================================================
	///			Versioning Information Variables
	//==================================================================================================================
/*ADOBE: The AA variables can be set directly in the doPlugins section - Refer to lines 4290 - 4297 */
	window.sc_code_ver="3.0.37";
	window.sc_code_ver_date="05212019.01";
	window.s_version="AM.1.6.3";

	////================================================================================================================
	///			Variable Initialization
	//==================================================================================================================
	//window.fdx_attr_days=14; /*2.0.4.2 Global attribution time frame, 30 days*/ 
	
	//Report Suite Configuration as per region information
	window.s_account = "fedexglbldev";
	var region = _satellite.getVar("content:region");
  if (typeof region != "undefined" && region != ""){	
		if(window.location.host=="www.fedex.com"){		
			s_account = "fedexglbl";		
			if(region == "can"){				
				s_account = s_account + ",fedexca";				
			}else {				
				s_account = s_account + ",fedex"+ region;				
			}				
		}
	}
	window.s=s_gi(s_account); 

	s.pageLoadComplete=false;	/* Variable to flag page level s_code load completion */
	s.trackDownloadLinks=true; /* Set trackDownloadLinks to 'true' if you would like to track links to downloadable files on your site. If trackDownloadLinks is 'true,' linkDownloadFileTypes is used to determine which links are downloadable files. */
	s.trackExternalLinks=true; /* If trackExternalLinks is 'true,' linkInternalFilters and linkExternalFilters are used to determine whether any link clicked is an exit link.*/
	s.trackInlineStats=true; /* trackInlineStats determines whether ClickMap data is gathered. If trackInlineStats is 'true,' data about the page and link clicked are stored in a cookie called s_sq. If 'false,' s_sq will have a value of "[[B]]," which is considered null.*/
	s.linkDownloadFileTypes="exe,zip,wav,mp3,mp4,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx,png";
	s.linkLeaveQueryString=false; /*Determines whether or not the query string should be included in the Exit Links and File Download reports*/
	s.linkTrackVars="None"; /* Comma-separated list of variables that will be sent with custom, exit, and download links. This is modified in custom scripts below.*/
	s.linkTrackEvents="None"; /* Comma-separated list of events that will be sent with a custom, exit, or download link */
	s.usePlugins=true; /* Execute doPlugins */

	/* Comma-separated list of filters that represent the links that are part of the site. The values contained in this variable are compared to each of the links on the pages of your site; if one of the values contained in the linkInternalFilters variable is found in the URL (href) of the link, then the link is considered to be internal to your site, and not an exit link */
	s.linkInternalFilters="javascript:,fedex.com,iamfedex.com,fedexads.designcdt.com,kinkosdev.com,kinkostest.com,senseaware.com,fedexsameday.com,fedex.p.delivery.net,fedex.co.jp,psg.kinkos.com,fedexcares.com,bongous.com";

	/* First Party Cookie Script - BEGIN */
	// s.visitorNamespace="fedex";
	// s.trackingServer="metrics.fedex.com";
	// s.trackingServerSecure="smetrics.fedex.com";
	/* First Party Cookie Script - END */

	window.nltrk=""; /* Link Tracking handler variable */
};

////================================================================================================================
///			Custom FDX Functions
//==================================================================================================================
/*ADOBE: Custom FDX Functions mostly not be needed for MVP1 - Lines 240 - 1700. The automatic/global variables set from these functions can be streamlined. Many will be set with
data layer properties and DTM Rules (pageName, channel, etc) */
//function for debugging to ensure console availability 
function fdx_debug (message, prefix, location) {
	prefix = (typeof prefix !== 'undefined') ? '[' + prefix + '] ' : "";
	location = (typeof location !== 'undefined') ? '[' + location + '] ' : "";


	if (window.console && console.log) console.log(prefix + location + message);
	else if (window.opera && opera.postError) opera.postError(prefix + location + message);

	try {

			var dCookie = (typeof fdx_getCookie("fdx_debug") !== 'undefined') ? fdx_getCookie("fdx_debug").split(',') : [];
			var levels = {'wwwsbox' : 'L1S', 'wwwbase' : 'L1', 'wwwdev' : 'L2', 'wwwdrt' : 'L3', 'wwwstress' : 'L4', 'wwwbit' : 'L5', 'wwwtest' : 'L6', 'www' : 'P'};
			var l = levels[document.location.hostname.split('.')[0]];
			var level = (typeof l !== 'undefined') ? l : document.location.hostname.split('.')[0]; 
			var timestamp = new Date().getTime();
			var page = (typeof s !== 'undefined' && s.pageName) ? s.pageName : document.location.href;
			var data = timestamp + '|' + prefix + location + message + '|' + level + '|' + page;

			dCookie.push(data.replace(/,/g,'##'));

			fdx_setCookie("fdx_debug", dCookie, 1, "/", ".fedex.com");
	
	}catch(e){}
	
};

//function to set cookie value
function fdx_setCookie (cookie_name, value, exdays, path, domain) {
	try {
		if (value !== null) {
			var c_value = escape(value);
			if (exdays !== ""){
			var exdate = new Date();
			exdate.setDate(exdate.getDate() + exdays);
			c_value += ((exdays === null) ? "" : "; expires=" + exdate.toUTCString());
			}
			c_value += (typeof path !== 'undefined' && path !== null) ? "; path=" + path : "";
			c_value += (typeof domain !== 'undefined' && domain !== null) ? "; domain=" + domain : "";
			document.cookie = cookie_name + "=" + c_value;
		}
	}
	catch(e){fdx_debug(e,"CIM", "fdx_setCookie");}
};

//function to get cookie value
function fdx_getCookie(Name) {
	try {
		var cookieVals = {};

		var dCookie = document.cookie;
		var keyVals = dCookie.split("; ");
		var keyVal;
		for (var i = 0; i < keyVals.length; i++) {
		    keyVal = keyVals[i].split("=");
		    cookieVals[keyVal[0]] = unescape(keyVal[1]);
		}

		return cookieVals[Name];
	}
	catch(e){fdx_debug(e,"CIM", "fdx_getCookie");}
};

/* Get campaign id from parent frame*/
function fdx_campaign()
{
	try{
		var parenturl = (window.location != window.parent.location) ? document.referrer: document.location;
		var campaign=fdx_gup(parenturl,"cmp");
		return campaign;
	}
	catch(e) {
		fdx_debug(e,"SC","fdx_campaign");
		return "";
	}
};

/*Get the parameter based on the URL*/
function fdx_gup(url, name)
{
	name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
	var regexS = "[\\?&]"+name+"=([^&#]*)";
	var regex = new RegExp( regexS , 'i');
	var results = regex.exec( url );
	if( results == null ){return "";}
	else{return results[1];}
};
// function fdx_getChannelPageName(){
// 	/* 1.1.0.2 - ACTION REQUIED - Add check for existence of meta data - if(document.getElementsByTagName){Enclose } */
// 	var m = document.getElementsByTagName('meta'); /* Get elements from the meta tags on the page*/
// 	for(var i in m){ 
// 		if(m[i].name == "wsstitle"){ 
// 			s.pageName = m[i].content; /* Cycle through and take the content from wsstitle */
// 			if (fdx_t("mobile.usablenet.com")|| fdx_t("m.fedex.com")) {s.pageName=s.pageName+":fedexmobile";}
// 			s.pageName=s.pageName.replace(/^\+/g,""); /* Remove leading plus symbol (Legacy HBX where HBX script originally required plus signs) */
// 			s.pageName=s.pageName.replace(/\+/g," "); /* Remove plus symbol from all other areas of the page name (Legacy HBX where HBX script originally required plus signs) */
// 			s.pageName=s.pageName.replace(/\/$/,""); /*1.1.0.3 - Add Strip Function for Page Name - Remove Last Slash */
// 			s.pageName=s.pageName.replace(/^\//,""); /*1.1.0.4 - Add Strip Function for Page Name - Remove First Slash  */

// 			if(s.pageName.toLowerCase() == "title"){s.pageName=fdx_getNCCpageName();}/*non-compliant meta, 1.1.2.9*/
// 		} 
// 		if(m[i].name == "wssmlc"){ 
// 			s.channel = m[i].content; /* Cycle through and take the content from wssmlc */
// 			s.channel=s.channel.replace(/\/$/,""); /* Strip Function for s.channel (Site Sections) - Remove Last Slash (prior to hier). This does not exist in Office and may affect tracking but will remove the issue of stripping slashes before entering the content for each page. */
// 			s.channel=s.channel.replace(/^\//,""); /* Strip Function for s.channel (Site Sections) - Remove First Slash (prior to hier) */
// 			s.channel=s.channel.replace(/^\+/g,""); /* Remove leading plus symbol (Legacy HBX where HBX script originally required plus signs) */
// 			s.channel=s.channel.replace(/\+/g," "); /* Remove plus symbol from all other areas of the channel (Legacy HBX where HBX script originally required plus signs) */		    
// 			s.channel=s.channel.toLowerCase();

// 			if(s.channel == "mlc"){s.channel="ncm";}/*non-compliant meta, 1.1.2.9*/
// 		}
// 	}

// 	if(typeof pType !="undefined"){s.pageType="errorPage";} /* 1.1.0.27 - Allow for an error page override */

// 	if(!s.channel || s.channel == "undefined" || s.channel ==" " || s.channel == null){s.channel="NCC";} /* Modified logic to handle NCC and other channel issues. This should not affect Office but is a change to the logic. */
		
// 	fdx_updateChannelHier();/*1.1.11.1*/
	  
// 	if(!s.pageName || s.pageName =="undefined" || s.pageName ==" " || s.pageName ==null){
// 		s.pageName=fdx_getNCCpageName(); /* document.location.href; strip off the parameters */
// 	}

// 	/* 404 */ 
// 	var fxtlt=document.title;
// 	if(fxtlt=="FedEx Page Not Found"){
// 		s.pageName="404 - "+ document.location.href;
// 		s.pageType="errorPage";  ----- Is this important to keep? NL 3/13
// 	}

// 	s.pageName=s.pageName.toLowerCase();

// 	s.pageName=s.channel + "/" + s.pageName; /* Construct Fully Qualified Page Name from stripped page name and stripped channel */
// 	//July16:updated for mobile page without using usablenet and no ":mobile" existed
// 	//Feb17: requested by Tina to remove :mobile for pagename
// /*	if ((s.pageName.indexOf(":mobile") < 0 ) && (window.fx_device_type && window.fx_device_type == "mobile") && (!fdx_t("mobile.usablenet.com") || !fdx_t("m.fedex.com"))){	
// 		s.pageName = s.pageName + ":mobile";
// 	}*/
// 	if(s.channel=="NCC" || s.channel=="ncm" ){s.pageName=s.pageName.replace("index.html","");}/*1.1.3.1*/
// 	s.prop46=s.eVar46="D=pageName"; /* Pass Fully Qualified Page Name */
// 	s.eVar43="P:"+s.pageName;s.prop43="D=v43"; /* Pass event based FQ Page Name with P: as page designator */
	
// };


function fdx_fireSDotT() {	
	try {
		s.delayV=false;
		var s_code = s.t(); /* Fire s_code */

		s.events="";/*1.1.11.2 set to empty to avoid sticky events*/
		s.list1="";
		s.list2="";
		s.list3="";
		sEvntsOnce = "";
		s.c_w("SC_LINKS","");
		s.c_w("setLink","");
	} catch(e){fdx_debug(e,"SC","fdx_fireSDotT");}
	
};

function fdx_fireSDotTL(obj, linkType, linkName) {

	try {
		s.linkTrackVars = s.apl(s.linkTrackVars,'prop50',',',2);	/* 2.0.3.1 - Put report suite into a prop. */
		s.tl(obj, linkType, linkName);
		s.linkTrackVars="None";
		s.linkTrackEvents="None";
		s.events="";/*1.1.11.2 set to empty to avoid sticky events*/
		s.list1="";
		s.list2="";
		s.list3="";
		s.c_w("SC_LINKS","");
		s.c_w("setLink","");
	} catch(e){fdx_debug(e,"SC","fdx_fireSDotTL");}
	
};

/*S&P search */
function fdx_spSrch(spData){

		//S&P
		var getspQp=s.Util.getQueryParam('q');
		//console.log("getspQp-->"+getspQp);
		var spLocale = _satellite.getVar("content:locale");

		var spResultStatus = "";
		if(spData.totalResultCount > 0){
			spResultStatus = "Success";
		}else{
			spResultStatus = "Failure";
		}	
		var spSrchData = spResultStatus+":"+spData.totalResultCount+":"+spLocale;
		//console.log("spSrchData-->"+spSrchData);

		if(getspQp){
				s.prop49=getspQp;
				s.prop49=s.prop49.toLowerCase();	
				//Remove plus signs from keywords where plus signs weren't originally used	
				if(s.prop49.indexOf('+')==0){
					s.prop49=s.prop49.replace('+','  ');
				}
				s.prop49=s.repl(s.prop49,'+',' ');
				s.prop49=s.repl(s.prop49,'  ',' +').replace(/^\s+/,"");				
				if (spData.totalResultCount > 0){ //Need to check the totalResult count to capture the eventInfo value
					s.prop1=s.eVar1=s.prop49;
					s.events = s.apl(s.events,'event118',',',2);	
					//console.log("*******S&P event118 *******");
				}else{
					s.events = s.apl(s.events,'event119',',',2);	
					//console.log("*******S&P event119 *******");
				}
			
				if(typeof spSrchData!=="undefined" && spSrchData!==""){
					s.prop49=spSrchData+":"+s.prop49;
				}
				
				var spBannerName="";
				if(typeof FDX.DATALAYER.search.result.banner !== "undefined" && FDX.DATALAYER.search.result.banner != ""){
				    if(FDX.DATALAYER.search.result.banner){  
						var childDivs = document.getElementsByClassName('cq-searchpromote-banners')[0].getElementsByTagName('div');
						//console.log("childDivs.length-->"+childDivs.length);

						for( i=0; i< childDivs.length; i++ )
						{
							var childDiv = childDivs[i];
							if(childDiv.className == "fxg-image-component__image"){
								if (typeof(childDiv.children[0].attributes["data-analytics"])!=="undefined")
								{ 
									spBannerName +="$$"+ childDiv.children[0].attributes["data-analytics"].value; //Condition to check if ChildDiv contains data-analytics attribute
								}
								        
		            			if(spBannerName.indexOf("SPB|Results Not Found Image") >=0){
		              				spBannerName = "SPB|Results Not Found Image";
		            				break;				
						    	}    
		        			}
						}
						if(spBannerName !=="" && spBannerName) 
						{ 				
							spBannerName = spBannerName.replace("$$","");
			        		//console.log("spBannerName -->"+spBannerName);
							s.prop49=s.prop49+":"+spBannerName;
							//console.log("prop49 with banner name -->"+s.prop49);
						}
						
					}
				}
				
				s.eVar49="D=c49"; 

		     //console.log("******* End of S&P fdx_spSrch func *******");
		 }
	//end logic for S&P
}

/*internal search*/
function fdx_iSrch(){
	/*1.1.13.28 Update Internal Search Logic */
	if(typeof scISdata!=="undefined"){
		intSrchData = scISdata.State+":"+scISdata.ResultType1+":"+scISdata.ResultType2+":"+scISdata.ResultCount+":"+scISdata.locale;
	}
	/* Internal Search */
	/* 1.1.13.28 Update Internal Search Logic */
	if(typeof oSrchRst!=="undefined"){
		var getQp=s.Util.getQueryParam('q');
		if(typeof srchTerm !="undefined" && srchTerm !=""){getQp=srchTerm;} /* 1.1.0.56 */
		/*1.1.13.28 Update Internal Search Logic */
		if(getQp){
			s.prop49=getQp;
			s.prop49=s.prop49.toLowerCase();
			//Remove plus signs from keywords where plus signs weren't originally used
			if(s.prop49.indexOf('+')==0){
				s.prop49=s.prop49.replace('+','  ');
			}
			s.prop49=s.repl(s.prop49,'+',' ');
			s.prop49=s.repl(s.prop49,'  ',' +').replace(/^\s+/,"");
			if (oSrchRst!=="0"){
				s.prop1=s.eVar1=s.prop49;
				s.events = s.apl(s.events,'event118',',',2);	
			}else{
				s.events = s.apl(s.events,'event119',',',2);
			}
			if(typeof intSrchData!=="undefined" && intSrchData!==""){
				s.prop49=intSrchData+":"+s.prop49;
			}
			s.eVar49="D=c49";

			/* 3.0.9.1 Fix SBC s_code bug related to scISData   */
			if (typeof scISdata!=="undefined" && (scISdata.ResultType1) && scISdata.ResultType1=="Tracking"){
				s.events = s.apl(s.events,'event42',',',2);//3.0.2.4 fire event 42 when internal search is valid for ITG # 158733				
			}
		}	
	}		
		
};

////================================================================================================================
///			INTERNAL DEFINITIONS FOR PUBICLY CALLED FUNCTIONS - EXPOSED IN CONTROLLER
//==================================================================================================================
////================================================================================================================
///			Link / Impression (s.tl()) Tracking Functions
//==================================================================================================================
/* fdx_scIS - Custom Link Tracking Function for Search Results Links */
function scIS(IS){
	fdx_scIS(IS);
}

function fdx_scIS(IS){
	/*1.1.6.3 add prop64 IPEX - REMOVED in 1.1.13.5*/
	/* 1.1.13.14 Turn off evar31, keep prop31 (VID) */
	/* 1.1.13.28 Update Internal Search Logic */
	s.linkTrackVars='prop31,eVar43,prop51,eVar51,eVar53,prop29,prop18,prop19,prop20,events';
	s.linkTrackEvents="None";
	s.linkTrackEvents=s.events="event122";

	if(IS.indexOf("preferred") > -1){
		s.linkTrackEvents=s.events="event123";
	}

	s.eVar43="L:IntSrch:"+IS;
	s.eVar51=s.prop51=IS;
	s.eVar53="+1";
	s.prop18=s.pageName;
	s.prop19=IS;
	s.prop20=s.pageName+':'+IS;
	s.prop31=(s.visitor.getAnalyticsVisitorID() !== '') ? '[CS]v1|' + s.visitor.getAnalyticsVisitorID() + '[CE]' : s.visitor.getMarketingCloudVisitorID();
	nltrk="y";
	fdx_fireSDotTL(this,'o',IS);
};

////================================================================================================================
///			FDX Custom Link View Tracking Functions
//==================================================================================================================
/*ADOBE: FDX Custom Link tracking logic can be removed and replaced with data layer properties and DTM Rules. Only those that apply to MVP1 pages are required for initial set up
in DTM - Lines 1709 - 1884 */
/* 1.1.0.84 - fdx_logLinkView */
function logLinkView(CLck,evnt,userid,a){

	fdx_logLinkView(CLck,evnt,userid,a);

}

function fdx_logLinkView(CLck,evnt,userid,a){
	//block link click if needed.
	//only for track landing page for now: block button click logLinkView and then call setLinkView
	//var setLinkViewList = ["trk-trackByTCN-TrackBtn","trk-landingPage1TrackingNumbersPresent"];
	if(typeof evnt == "undefined"){
		evnt="";
	}
	var setLinkViewList = ["trk-landingPage1TrackingNumbersPresent","trk-landingPage-TrackBtn","trk-trackByReference-TrackBtn","trk-trackByTCN-TrackBtn","trk-landingPage-track-helpLink","trk-landingPage-mulitipleTrackingNumberLink","trk-landingPage-singleTrackingNumberLink","trk-trackByReference-DestinationCountry","trk-landingPage-promptToLoginforBOL","trk-OPOD-cancel","trk-OPOD-PrintLetter-Submit","trk-OPOD-EmailLetter-Submit","trk-OPOD-Fax-Submit","trk-landingpage-bolDownloadButton","trk-landingPage-track-helpLink"]; 
	var blockFlgFunc = _satellite.getVar("click:blockFlag");
	var isBlockedLnk = blockFlgFunc(CLck, "click:blockList");
	//var isBlockedLink = ((isBlockedLnk) || CLck.indexOf("VA:") > -1 || CLck.indexOf("vaPopinAsk") > -1) ? true : false;
	var isBlockedLink = ((isBlockedLnk) || CLck.indexOf("vaPopinAsk") > -1) ? true : false;
	if(isBlockedLink ==true){
		if(setLinkViewList.indexOf(CLck.trim()) > -1){
			fdx_setLinkView(CLck);
		}
		return true;
	}

	if (CLck == null){return;}
	CLck = fdx_linkFormat(CLck);
	if(CLck.indexOf("trk-") > -1){

		CLck = fdx_trackMapping(CLck);
	}

	

	var currentTime = new Date(); /* Pass current browser time into variable */
	var month = currentTime.getMonth() + 1; /* Pass current browser month into variable */
	var day = currentTime.getDate(); /* Pass current browser day into variable */
	var year = currentTime.getFullYear(); /* Pass current browser year into variable */
	var hours = currentTime.getHours(); /* Pass current browser hour into variable */
	var minutes = currentTime.getMinutes(); /* Pass current browser minute into variable */
	if (minutes < 10){minutes = "0" + minutes;}
	var seconds = currentTime.getSeconds();
	if (seconds < 10) {seconds = "0" + seconds;} /* Added in Enterprise for s5 - This does not exist in Office */
	var timestamp2=month + "/" + day + "/" + year + " " + hours + ":" + minutes + ":" + seconds; /* Concatonate all time values */

	s.linkTrackVars='prop4,eVar4,prop6,eVar6,eVar11,prop31,eVar43,prop52,eVar52,prop56,eVar56,eVar53,eVar77,prop29,prop18,prop19,prop20,prop41,prop54,prop55,prop70,prop71,events'; /* Lintrackvars dictate what variables can recieve values or carry values from the page this custom link is click on */
	
	s.eVar4 = _satellite.getVar("login:status");
	
	if(CLck =="hdr|Login")	{
		evnt += "event3";
	}
	if(CLck =="hdr|SIGN OUT")	{
		evnt += "event10";
		s.eVar4 = "Logged Out";
	}	
	
	if(evnt){
		s.linkTrackEvents=evnt;
		s.events=evnt;
	} /* If the event argument has a value then include it in the linkTrackEvents variable or else do nothing. The linkTrackEvents variable dictates which events will be allowed to track within the custom link function. */
	
	
	s.prop4 = "D=v4"; 
	s.eVar6 = _satellite.getVar("login:user-id");
	s.prop6 = "D=v4"; 	
	s.eVar43="L:"+CLck; /* eVar43 becomes a link and page instance report. The prefix 'L' represents Link and is placed in front of all custom links. The prefix 'P' is used on all page views. In this report every page and every link click can be seen. */
	s.prop43="D=v43";
	s.eVar56=s.prop56=CLck; /* Populate the Custom Links reports - both Traffic and Conversion */
	s.prop29=timestamp2; /* Populate the Timestamp reports - both Traffic and Conversion */
	var cYr2 = new Date();
	var nM=cYr2.getMonth()+1;
	var nD=cYr2.getDate();
	var nY=cYr2.getFullYear();
	s.prop52=s.eVar52=nY+'-'+nM+'-'+nD;
	s.eVar53="+1";
	s.prop41="D=v41";
	s.prop54="D=v54";
	s.prop55="D=v55";
	s.prop18=s.pageName; /* Pass the page name to the custom page name report */
	s.prop19=fdx_linkFormat(CLck); /* Pass the function value to the custom link report */
	s.prop20=s.pageName+':'+CLck; /* Pass Page Name with function value of clicked link */
	/* 1.1.13.14 Turn off evar31, keep prop31 (VID) */
	s.prop31=(s.visitor.getAnalyticsVisitorID() !== '') ? '[CS]v1|' + s.visitor.getAnalyticsVisitorID() + '[CE]' : s.visitor.getMarketingCloudVisitorID();/* Pass the s_vi cookie using Dynamic Variable */
	nltrk="y";
	fdx_fireSDotTL(this,'o',CLck);
	return true;
};

function setLinkView(CLck){
	fdx_setLinkView(CLck);
};

/*2.0.4.6 Set the Link Name so the next page can capture */
function fdx_setLinkView(CLck){
	CLck = fdx_linkFormat(CLck);
	if(CLck.indexOf("trk-") > -1){

		CLck = fdx_trackMapping(CLck);
	}	
	var cv=s.pageName+'^^'+CLck+'^^'+s.pageName+' | '+CLck + '^^';
	s.c_w("setLink",cv,0);
	return true;
};

function fdx_getLinkView(){
	try{
		var cv = s.c_r("setLink");
		if(typeof cv !="undefined" && cv!=""){
			var eachv= cv.split('^^');
			s.prop18=eachv[0];
			s.prop19=eachv[1];
			s.prop20=eachv[2];
			s.c_w("SC_LINKS","");
		}
		s.c_w("setLink","");
	}
	catch(e){fdx_debug(e,"SC","fdx_getLinkView");}
};

//trim the space between | in link name; for example: linkName = "key 1 | key 2  | key3" ---> linkName="key 1|key 2|key3"
function fdx_linkFormat(lnkName){                              
	var lnkSplt = lnkName.split("|");            
	var newLnkName="";
	for(var i=0;i<lnkSplt.length;i++){
	    if(newLnkName != ""){
	        newLnkName += "|";
	    }
	    newLnkName = newLnkName+lnkSplt[i].trim();
	}

	return newLnkName;	
}

 function fdx_trackMapping(btnName){

	//var nameMapping = {"trk-landingPage1TrackingNumbersPresent":"Tracking Number|TRACK", "":"Track by Reference|TRACK","trk-trackByTCN-TrackBtn":"Track by TCN|TRACK","":"","":""};
	//var nameMapping = {"trk-landingPage1TrackingNumbersPresent":"Tracking Number|TRACK","trk-trackByTCN-TrackBtn":"Track by TCN|TRACK"};
	var nameMapping = _satellite.getVar("track:btnMapping");
	return nameMapping[btnName];
}

//March17: WCRV. log download files info with download type
function fdx_logDownload(fileList, downloadType){
	//fileList: "file1.jpeg" or ["file1.jpeg", "file2.gif", "file3.pdf"]
	//downloadType: "single" or "multiple"
	//prop37 has been set up as list prop so can include more data
    s.linkTrackVars='eVar6,eVar110,eVar43,prop37,prop70,prop71,events'; /* Lintrackvars dictate what variables can recieve values or carry values from the page this custom link is click on */

    try{
		if(typeof fileList != "undefined"){
			s.prop37=fileList.toString();

			if(downloadType.toLowerCase() == "single"){
				s.events=s.apl(s.events,"event12",",",2);
				s.linkTrackEvents="event12";
			}else if(downloadType.toLowerCase() == "multiple"){
				var cartDwnloadCount = 0;
				if(fileList.toString().toLowerCase() != "failed"){
					cartDwnloadCount = fileList.length;
				}

				s.events=s.apl(s.events,"event181="+cartDwnloadCount,",",2);
				s.linkTrackEvents="event181";
			}

			fdx_fireSDotTL(this,'d');

			return true;		
		}
    }
    catch(e){fdx_debug(e,"SC","fdx_logDownload");}

}
//customize functions for custom events start
//function to create a custom event
var fdx_createCustomEvent = fdx_createCustomEvent || function (eventName) {
	try {
		var customEvent;

		if (document.createEvent) {
			customEvent = document.createEvent("Event");
			customEvent.initEvent(eventName, false, false);
		} else {
			customEvent = eventName;
		}

		return customEvent;
	}
	catch(e){fdx_debug(e,"CIM", "fdx_createCustomEvent");}
};

//function to dispatch a custom event
var fdx_dispatchCustomEvent = fdx_dispatchCustomEvent || function (eventName) {
	try {
		if (document.createEvent) {
			document.dispatchEvent(eventName);
		} else {
			if(typeof document.documentElement[eventName] !== 'undefined'){
				document.documentElement[eventName]++;
			}
			else{
				document.documentElement[eventName]=0;
			}
		}
	}
	catch(e){fdx_debug(e,"CIM", "fdx_dispatchCustomEvent");}
};

//function to create and dispatch a custom event
var fdx_fireCustomEvent = fdx_fireCustomEvent || function (eventName) {
	try {
		var myEvent = fdx_createCustomEvent(eventName);
		fdx_dispatchCustomEvent(myEvent);
	}
	catch(e){fdx_debug(e,"CIM", "fdx_fireCustomEvent");}
};

//customize functions for custom events end


////================================================================================================================
///			FDX Custom Page (s.t()) View Tracking Function
//==================================================================================================================
/* 1.1.2.1 - fdx_logPageView */
/*ADOBE: FDC Custom Page Tracking logic can be removed and replaced with data layer/DTM Rules. Only those needed for MVP1 should be identified initially - Lines 1891 - 1984 */
//add logPageView function for SPA applications to delay sever call
function logPageView(pageName,evnt,login,uuid,tracknum,delay){
	fdx_logPageView(pageName,evnt,login,uuid,tracknum,delay);

}

function fdx_logPageView(pageName,evnt,login,tracknum,delay){
	try{
		var wwwHost = window.location.hostname;
		var domainPrefix = "";
		  
		if (wwwHost.match(/www(sbox.idev|base.idev|dev.idev|drt.idev|stress.dmz.idev|bit.idev|test|).fedex.com/gi))
		{
			domainPrefix = "fedex/";
		}


		//if pageName includes domain prefix, then no need to append it as prefix;
		if(domainPrefix != pageName.slice(0,domainPrefix.length)){
			pageName = domainPrefix + pageName;
		}


		s.pageName = pageName;
		fdx_getLinkView();

		if(evnt){
			s.linkTrackEvents=evnt;
			s.events=evnt;
		}else{
			s.linkTrackEvents="";
			s.events="";
		}

		var spData = _satellite.getVar("search:spData");
		//console.log("spData-->"+spData);

		if(typeof spData != "undefined" && spData != ""){
			fdx_spSrch(spData);
		}
				
		if(login){s.prop4=login;}
		/* 1.1.13.9 Repurpose eVar74 from Tracking Number */
		if(tracknum){s.prop74=tracknum;}

		var currentTime = new Date(); /* Pass current browser time into variable */
		var month = currentTime.getMonth() + 1; /* Pass current browser month into variable */
		var day = currentTime.getDate(); /* Pass current browser day into variable */
		var year = currentTime.getFullYear(); /* Pass current browser year into variable */
		var hours = currentTime.getHours(); /* Pass current browser hour into variable */
		var minutes = currentTime.getMinutes(); /* Pass current browser minute into variable */
		if (minutes < 10){minutes = "0" + minutes;}
		var seconds = currentTime.getSeconds();
		if (seconds < 10) {seconds = "0" + seconds} /* Added in Enterprise for s5 - This does not exist in Office */
		var timestamp2=month + "/" + day + "/" + year + " " + hours + ":" + minutes + ":" + seconds; /* Concatonate all time values */
		s.eVar43="V:"+s.pageName;/*1.1.5.3 change P to V to differetiate*/
		s.prop43="D=v43";
		s.prop29=timestamp2; /* Populate the Timestamp reports - both Traffic and Conversion */
		var cYr2 = new Date();
		var nM=cYr2.getMonth()+1;
		var nD=cYr2.getDate();
		var nY=cYr2.getFullYear();
		s.prop52=s.eVar52=nY+'-'+nM+'-'+nD;

		if(delay){
			s.delayV = true;
			setTimeout(function() { 
				try {
					fdx_fireSDotT(); 
				}catch(e){console.log("error:"+e);}
			}, 2000);	  
		}
		else {
			fdx_fireSDotT();	
		}
	}
	catch(e){console.log("error:"+e);}
};



////================================================================================================================
///			FDX Custom Shopping Cart Tracking Functions
//==================================================================================================================
/*log purchase/prod view info for label/cart */
function logPurchase(labelObj, callback) {
	//console.log("logPurchase Starts");
	if(typeof labelObj !== "undefined"){
		if(typeof labelObj.clientId !== "undefined" && labelObj.clientId == "GRGM"){
			fdx_logProdView(labelObj);
		}
		else {
			fdx_logPurchase(labelObj, callback);
		}
	}

}


function fdx_logProdView(obj, callabck){
	//console.log("logProdView Starts");
	try {
		var tempData=obj.clientId;		
		if(typeof obj !== "undefined" && obj !== ""){
			if(typeof obj.shipData !== 'undefined' && obj.shipData !== null){
				for (var key in obj.shipData) {
					var value = obj.shipData[key];
					tempData += ":"+ key +"_" + value;
				}				
				s.events="scAdd,event110";
				s.linkTrackEvents=s.events;
				s.eVar135 = tempData;
				s.linkTrackVars="prop6,prop12,prop29,prop40,prop41,prop43,prop46,prop48,prop50,prop52,prop54,prop55,prop60,eVar2,eVar4,eVar6,eVar7,eVar10,eVar13,eVar38,eVar40,eVar41,eVar43,eVar46,eVar48,eVar50,eVar52,eVar53,eVar54,eVar55,eVar74,eVar135,events"; //Update this info			
				s.products = ";GRGM" +";;;;eVar135=" + s.eVar135;
				s.eVar43="S:RateGRGM";
				fdx_fireSDotTL(this, 'o', "GRGM-RATEbtn");				
				try {
					if (typeof callback !== "undefined" && callback !== null && typeof callback === "function") {
						callback(obj);
					}
				}
				catch(e){fdx_debug(e,"SC","fdx_logProdView:callback");}
				return true;
			}
		}
	} catch (e){fdx_debug(e,"SC","fdx_logProdView");}

}

function fdx_logPurchase(labelObj, callback) {

		try {
		/* 1.1.13.37 Correct fdx_logPurchase to prevent event15/16 from being counted in fdx_logPurchase. */
		s.events="";
		var linkName="";
		if(typeof labelObj.LogPurchaseRequest !== 'undefined' && labelObj.LogPurchaseRequest !== null)
		{	
				if (labelObj.LogPurchaseRequest.clientId)
					labelObj.LogPurchaseRequest.clientId = labelObj.LogPurchaseRequest.clientId.toUpperCase();
				
				if(labelObj.LogPurchaseRequest.clientId=="MAGS"){
					fdx_logPurchaseMAGS(labelObj.LogPurchaseRequest, callback);
					linkName="MAGSShipBtn";
					}	
				/* if(labelObj.LogPurchaseRequest.clientId=="MAGR"){
					fdx_logPurchaseMAGR(labelObj.LogPurchaseRequest, callback);
					linkName="MAGRRateBtn";
					}	*/ 			
		}	
		if(typeof labelObj.appId !== 'undefined' && labelObj.appId !== null){
			if(labelObj.appId=="WREG"){
				fdx_logPurchaseWREG(labelObj, callback);
				linkName="WREGRegisterBtn";
			} 
		}
				
	    
		if(s.events!==""){
			nltrk="y";
			s.eVar40="D=events";
			s.prop40="D=events";
			s.prop43="D=v43";
			
			s.prop18=_satellite.getVar("content:page name");
			/*s.prop19=linkName; //Need to check how to fetch linkName in DTM
			s.prop20=s.pageName+':'+linkName; */
			
			s.linkTrackVars='prop6,eVar6,prop18,prop19,prop20,prop31,eVar38,prop40,eVar40,prop43,eVar43,prop46,eVar46,eVar73,eVar75,prop74,eVar112,eVar113,eVar114,eVar115,eVar116,eVar117,eVar118,eVar119,eVar120,eVar121,eVar136,eVar138,eVar139,eVar142,eVar143,eVar145,products,purchaseID,events'; /* Linktrackvars dictate what variables can recieve values or carry values from the page this custom link is click on */
			s.linkTrackEvents = s.events;
			fdx_fireSDotTL(this, 'o', linkName);
			s.products="";
			s.purchaseID = "";
			s.events="";
			s.eVar73="";
			s.eVar75="";
			s.prop74="";
			s.eVar43="";		
			return true;
		}
		else {
			return false;
		}
	} catch (e) {
		fdx_debug(e,"SC","fdx_logPurchase");//Make sure this is working
		return false;
	}
};


//3.0.37 MAGS Application
function fdx_logPurchaseMAGS(obj, callback){	
	try {
	var prodEvents="";
		 var tmpShipData = obj.clientId + ":INT_" + obj.INT; 
		if(typeof obj.clientId !== "undefined" && obj.clientId !== ""){
			if(typeof obj.shipData !== 'undefined' && obj.shipData !== null ){
				for (var key in obj.shipData) {
					var value = obj.shipData[key];
					tmpShipData += ":"+ key +"_" + value;
				}
			}
			if (obj.INT == "Y") {
				prodEvents = "event68";
			}	else{
				prodEvents = "event67"; 
			}
			s.events="purchase," +prodEvents;
			s.linkTrackEvents=s.events;
			s.eVar143 = tmpShipData;
			s.products=";MAGS;;;"+prodEvents+";eVar143=" + s.eVar143;
			s.eVar43="S:MAGS";

			try {
				if (typeof callback !== "undefined" && callback !== null && typeof callback === "function") {
					callback(obj);
				}
			}
			catch(e){fdx_debug(e,"SC","fdx_logPurchaseMAGS:callback");}

		}
	} catch (e){fdx_debug(e,"SC","fdx_logPurchaseMAGS");}

}

//3.0.37 MAGR Application
/* function fdx_logPurchaseMAGR(obj, callback){	
	try {
		        var tempData=obj.clientId+":INT_"+obj.INT;
                var tempRateData=obj.clientId;
		        if(typeof obj !== "undefined" && obj !== ""){
			    if(typeof obj.shipData !== 'undefined' && obj.shipData !== null ){
				for (var key in obj.shipData) {
					var value = obj.shipData[key];
					tempData += ":"+ key +"_" + value;
				}
			}
            if(typeof obj.comData !== 'undefined' && obj.comData !== null ){
			for (var key in obj.comData) {
			    	var value = obj.comData[key];
					tempRateData += ":"+ key +"_" + value;
				}
			} 
			s.events="scAdd,event110"; 
			s.linkTrackEvents=s.events;
			s.eVar136 = tempData;
	        s.eVar142 = tempRateData;
			s.products = ";MAGR" +";;;;eVar136=" + s.eVar136+"|eVar142="+s.eVar142;
			s.eVar43="S:RateMAGR";
			try {
				if (typeof callback !== "undefined" && callback !== null && typeof callback === "function") {
					callback(obj);
				}
			}
			catch(e){fdx_debug(e,"SC","fdx_logPurchaseMAGR:callback");}

		}
	} catch (e){fdx_debug(e,"SC","fdx_logPurchaseMAGR");}
} */

//3.0.37 WREG Application
function fdx_logPurchaseWREG(obj, callback) {
	try {

		var tempProfile= "";
		var tempAddtData ="";
		if (typeof obj !== 'undefined' && obj !== null){
			if (typeof obj.profile !== "undefined") {
				tempProfile= processData(obj.profile);
				console.log("Profile:"  +tempProfile);
			}
			if (typeof obj.addtData !== "undefined") {
				tempAddtData= processData(obj.addtData);
				console.log("Additional Data:" +tempAddtData);
			}	
			s.eVar145= tempProfile+ "|" +tempAddtData;
		}			
		s.events = "scAdd";
		s.linkTrackEvents = s.events;
		s.products = ";" + obj.appId + ";;;;eVar145="+ s.eVar145;
		console.log(s.products);
		s.eVar43 = "S:" +obj.appId; //S:logPurchase call
		try {
			if (typeof callback !== "undefined" && callback !== null && typeof callback === "function") {
				callback(obj);
			}
		} catch (e) {
			fdx_debug(e, "SC", "fdx_logPurchaseWREG:callback");
		}

	} catch (e) {
		fdx_debug(e, "SC", "fdx_logPurchaseWREG");
	}
}

function processData(obj) {
	var tempData = "";
	if (typeof obj !== 'undefined' && obj !== null) {
		for (var key in obj) {
			tempData += ":"+ key +"_" + obj[key];
		}
		tempData=tempData.replace(":","");
	}
	return tempData;
}

//function to convert Obj to String since JSON.stringify is not working for all browsers
function fdx_convertToStr(obj) {
	try{
	    //create an array that will later be joined into a string.
	    var strArray = [];
	    //is object
	    //  Both arrays and objects seem to return "object" when typeof(obj) is applied to them. Checking to see if they have the property join, which normal objects don't have but arrays do.
	    if (typeof(obj) == "object" && (obj.join == undefined)) {
	        for (prop in obj) {
	        	if(prop && prop!= "" && obj[prop] && obj[prop]!=""){
	        		strArray.push(prop, ":", fdx_convertToStr(obj[prop]), ",");	
	        	}
	            
	        };
	    //is array
	    } else if (typeof(obj) == "object" && !(obj.join == undefined)) {
	        for(prop in obj) {
	        	if(prop && prop!= "" && obj[prop] && obj[prop]!=""){
	            	strArray.push(fdx_convertToStr(obj[prop]), ",");
	        	}
	        }
	    //all other none function values can be done with toString()
	    } else if((typeof(obj) != "function")){
	    	if(obj.toString()!=""){
	        	strArray.push(obj.toString());
	    	}
	    }

	    return strArray.join("");
    }
	catch(e){fdx_debug(e,"SC", "fdx_convertToStr");}

};

/* Custom function to set prodView event for Address lookup in Jan15CL*/
//function fdx_logProdView(labelObj, callback) {

/*
	try {
		var keyRepVals=["reg","_","|",",",":",";"];
		var evar73="";
		s.events = "prodView";
		var appID="";
		if(labelObj.LogPurchaseRequest.appData != null && typeof labelObj.LogPurchaseRequest.appData != "undefined"){
			for (var key in labelObj.LogPurchaseRequest.appData) {
				var value = "" + labelObj.LogPurchaseRequest.appData[key];
				value = fdx_formatShipData(value, keyRepVals);
				labelObj.LogPurchaseRequest.appData[key] = value;
				if(key=="appID"){
					appID = value;					
				}
				evar73 += ":"+ key +"_" + value;
			}

		}
		evar73=evar73.replace(":","");//remove the first ":"
		s.products = ";" + labelObj.LogPurchaseRequest.productName +":"+ appID +";;;;eVar73=" + evar73; 
		//s.products = ";" + labelObj.LogPurchaseRequest.productName +":"+ labelObj.LogPurchaseRequest.appData["appID"]+";;;;eVar73=" + evar73; 
	
	} catch (e) {
		fdx_debug(e,"SC","fdx_logProdView");
		return false;
	}*/
//};

//function for SiteCatalyst CHAT tracking 
function fdx_logChat(chatObj, appName, callback) {

	try {

		if (appName){
			s.linkTrackVars='prop6,eVar6,prop31,eVar43,prop52,eVar52,prop56,eVar56,eVar53,prop18,prop19,prop20,prop41,events'; /* Lintrackvars dictate what variables can recieve values or carry values from the page this custom link is click on */
	
			var vaStatus = (typeof chatObj.status !== "undefined" && chatObj.status) ? chatObj.status :"";
			if(vaStatus){
				var statusMapping = {"vaPopinAsk" : "event112", "transtoLA" : "event114"};  //updated per business request: Tina
				var tempObjValue ="";
				events = statusMapping[vaStatus];
				s.prop18 = s.pageName;
				s.prop19 = vaStatus; 
				s.prop20 = s.pageName+':'+vaStatus;

				for (var key in chatObj){
					if(chatObj[key]){
						tempObjValue += ":" + chatObj[key];
					}
				}
				s.eVar14 = appName + ":" + s.pageName + tempObjValue;
				s.linkTrackVars = s.apl(s.linkTrackVars,'eVar14',',',2);

				s.linkTrackEvents = s.events = events;
				nltrk="y";
				fdx_fireSDotTL(this, 'o', appName);
			}
		}
   		if(typeof chatObj.chatRequest !== 'undefined' && chatObj.chatRequest !== null)
   		{
	 	   	var events = "";
	 	   	var appName = "";
	 	   	var chateVarData = "";
	 	   	s.linkTrackVars='prop6,eVar6,prop31,eVar43,prop52,eVar52,prop56,eVar56,eVar53,prop18,prop19,prop20,prop41,events'; /* Lintrackvars dictate what variables can recieve values or carry values from the page this custom link is click on */
	
	 	   	//May load 16: do not include "Open" or "Close" status in the chatObj, so can do correlcation report on evar14 and event112,113
 	   		for (var key in chatObj.chatRequest[0].chatData) {
				var value = "" + chatObj.chatRequest[0].chatData[key];
				key = key.replace("|", "-"); //Aug16: VA data formatting to avoid extra "|" in the url, pagename or status
				value = value.replace("|", "-"); //Aug16: VA data formatting to avoid extra "|" in the url, pagename or status
				chateVarData += "|"+ key +"_" + value;
					
			}

	 	   	if(chatObj.chatRequest[0].clientId == "CHAT"){
	 	   		appName = "liveagent_CHAT";
	 	   		events="event45";
				s.prop59 = s.eVar59 = chateVarData.replace("|",""); //remove the first "|" in the evar59 
				s.linkTrackVars = s.apl(s.linkTrackVars,'eVar59,prop59',',',2);	

	 	   	}else if(chatObj.chatRequest[0].clientId == "NINA"){ //3.0.18.2
	 	   		try{
		 	   		appName = "va_NINA";

					var vaStatus = chatObj.chatRequest[0].chatData["status"];
					var statusMapping = {"vaPopinOpen" : "event112", "vaPopinClose" : "event113", "transtoLA" : "event114"};
					events = statusMapping[vaStatus];
					s.eVar14 = chateVarData.replace("|","").replace("vaPopinOpen","vaPopin").replace("vaPopinClose","vaPopin"); //remove the first "|" in the evar and update status to "vaPopin" only
					s.linkTrackVars = s.apl(s.linkTrackVars,'eVar14',',',2);

	 	   		}catch(e){fdx_debug(e,"SC","fdx_logChat:NINA");}

	 	   	}

			s.linkTrackEvents = s.events = events;
			nltrk="y";
			fdx_fireSDotTL(this, 'o', appName);
		
   		}
	}catch(e){fdx_debug(e,"SC","fdx_logChat");}
}

//Sept16: POD Track project
function fdx_logTrackPOD(obj, callback){
	if(typeof obj.podMapLinkDisplay !== 'undefined' && obj.podMapLinkDisplay == true){
		sEvntsOnce = "event161";
		//Feb17: add obj.opCode info to s.eVar107
		var vr107 = obj.opCode;		
	}

}

//Jan17: FXO NG project
function fdx_logFXO(obj, callback){
	if (fdx_is_disabled || fdx_sc_is_disabled) {return true;}

	if (!s.pageLoadComplete) {
		fdx_subscribeToCustomEvent("SCPageLoaded", function(){fdx_logFXO(obj, callback);});
		return true;
	}

	try {
		if(typeof obj.LogOrderRequest != "undefined" && obj.LogOrderRequest != null)
		{
			var clientName="";
			var clientId = "";
			var prodRepVals=["reg","_","TCase",",",";"];
			var keyRepVals=["reg","_","|",",",":",";"];
			var appName = "FXO_POL2";
			var evar95 = "";
					
			clientId = obj.LogOrderRequest.clientId;
			clientName = obj.LogOrderRequest.clientName;	
			s.eVar39 = obj.LogOrderRequest.orderNumber;
			s.eVar93 = obj.LogOrderRequest.polUUID;
			s.eVar94 = obj.LogOrderRequest.polLoginStatus;

			s.currencyCode = fdx_getCurrencyCode(obj.LogOrderRequest.currencyCode);
		    if(s.currencyCode==""){s.currencyCode="USD";}

		    for (var key in obj.LogOrderRequest.orderData){
		    	var value = obj.LogOrderRequest.orderData[key];
		    	evar95 += "|" + key + "_" + value;
		    }
		    s.eVar95 = evar95.replace("|", ""); // replace first "|"

		    s.products = "";	

			var orderQuantityEvt = "event150="+obj.LogOrderRequest.orderData.QUANTITY;
			var orderSubTotalEvt = "event151="+obj.LogOrderRequest.orderSubTotal;
			var promoDiscAmtEvt = "event152="+obj.LogOrderRequest.orderPromoDiscount;
			var taxAmtEvt = "event153="+obj.LogOrderRequest.taxAmount;
			var packingAmtEvt = "event154="+obj.LogOrderRequest.packingNhandlingAmount;
			var shippingAmtEvt = "event155="+obj.LogOrderRequest.orderShippingAmount;
			var totalEvt = "event14="+obj.LogOrderRequest.estimatedTotal;
			var totalSavedAmtEvt = "event156="+obj.LogOrderRequest.orderTotalSavedAmount;
			s.events = "purchase,"+orderQuantityEvt+","+orderSubTotalEvt+","+promoDiscAmtEvt+","+taxAmtEvt+","+packingAmtEvt+","+shippingAmtEvt+","+totalEvt+","+totalSavedAmtEvt;

			
			for(var i = 0; i < obj.LogOrderRequest.ProductsData.length; i++){
				var prodQuantityEvt = "event157="+obj.LogOrderRequest.ProductsData[i].productQty;
				var prodPriceEvt = "|event158="+obj.LogOrderRequest.ProductsData[i].productPrice;
				var prodDiscPriceEvt = "|event159="+obj.LogOrderRequest.ProductsData[i].productDiscountedPrice;

				var productName = fdx_formatShipData(obj.LogOrderRequest.ProductsData[i].productName, prodRepVals);
				s.products = (s.products !== "") ? s.products + "," : s.products;
				s.products += ";POL2:" + productName + ";" + obj.LogOrderRequest.ProductsData[i].productQty + ";" + obj.LogOrderRequest.ProductsData[i].productPrice + ";"+prodQuantityEvt+prodPriceEvt+prodDiscPriceEvt; 				
			}


			s.linkTrackVars='prop6,eVar6,prop8,eVar8,prop18,prop19,prop20,prop31,eVar38,eVar39,prop40,eVar40,eVar43,prop46,eVar46,eVar93,eVar94,eVar95,products,purchaseID,events'; /* Linktrackvars dictate what variables can recieve values or carry values from the page this custom link is click on */
			s.linkTrackEvents = "purchase,event150,event151,event152,event153,event154,event155,event14,event156,event157,event158,event159";
			var pDate = new Date();
			var pMonth = '' + (pDate.getMonth() + 1);
			pMonth = pMonth.length < 2 ? '0' + pMonth : pMonth;
			var pYear = '' + pDate.getFullYear();
			pYear = pYear.substring(2);
			s.purchaseID = obj.LogOrderRequest.orderNumber + pMonth + pYear;

			nltrk="y";
			fdx_fireSDotTL(this, 'o', appName);

		}

	}catch(e){fdx_debug(e,"SC","fdx_logFXO");}

}

//getLoadTime plug-in
//3.0.14.2 Gets the page load time in tenths of a second: 
//https://marketing.adobe.com/resources/help/en_US/sc/implement/getLoadTime.html
//function s_getLoadTime(){if(!window.s_loadT){var b=new Date().getTime(),o=window.performance?performance.timing:0,a=o?o.requestStart:window.inHeadTS||0;s_loadT=a?Math.round((b-a)/100):''}return s_loadT};


////================================================================================================================
///			Adobe SiteCatalyst Plug-in Implementation (doPlugins)
//==================================================================================================================
function s_doPlugins(s){

/*ADOBE: Determination if this is needed TBD */
	if (window.fdx_controllerVersion) {
		//fdx_catVar('eVar48', ',', 'CIMCV_' + fdx_controllerVersion, true);
	}
	/*************  MVP1  ***************/	

	if(typeof s.pageName == "undefined" && s.pageName =="" && typeof (_satellite.getVar("content:page name") !== "undefined") && _satellite.getVar("content:page name")){
		s.pageName = _satellite.getVar("content:page name");
	}
	s.pageName = s.pageName.toLowerCase();
	s.eVar38="D=pageName"; /* Pass Page Name (Only Page Name) to c/v38*/
	s.eVar50=[location.host, location.pathname].join(''); /* Pass page URL to v50 without parameter*/
	s.prop46=s.eVar46="D=pageName"; /* Pass Fully Qualified Page Name */
	 	

	/* Time Parting */
	var cYr = new Date().getFullYear();
	/* 1.1.13.1 combine evar/props*/
	var cHour=s.getTimeParting('h','-6',cYr);
	var cDay=s.getTimeParting('d','-6',cYr);
	s.eVar7=s.prop7=cHour +"|"+cDay; // +"|"+cWeekday;

	var cYr2 = new Date();
	var nM=cYr2.getMonth()+1;
	var nD=cYr2.getDate();
	var nY=cYr2.getFullYear();
	s.prop52=s.eVar52=nY+'-'+nM+'-'+nD;

	/*for previous page value - dependency: getPreviousValue plugin */
	var getPrev=s.getPreviousValue(s.pageName,'gpv_pageName');/* return previous value of designated variable */
	/* Set eVar2 to previous page*/
	if(getPrev){
		s.prop12=getPrev;
		s.eVar2='D=c12';
	} /* Place previous page into variable for later use */

	s.prop35="D=Accept-Language"; /* Pass the Browser Language to c/v35. */
	s.eVar53="+1"; /* Counter eVar */
	s.eVar40="D=events"; //s.prop40="D=events"; /* Pass all events to c/v40 */

	/* Previous Page Data - Dependency: getPercentPageViewed*/
	try{
		var ppvArray = s.getPercentPageViewed(s.pageName);
		if (typeof ppvArray !== 'undefined' && typeof ppvArray === 'object' && ppvArray.length === 4 && typeof ppvArray[2] !== 'undefined'){  /*3.0.9.2	Fix ppvArray undefined IMIT Debug Errors*/
			s.prop60 = ppvArray[2]+ ":" + ppvArray[1];
			s.prop61 = ppvArray[3];			
		}

	} catch(e) {fdx_debug(e,"SC","s_doPlugins:ppvArray");}

	fdx_iSrch();

	/* Custom Download:Put the downloaded file name into evar43 Event List Path */
	if(s.linkType=='d'){
		if(typeof s.linkObject !== 'undefined' && s.linkObject !== 0 && typeof s.linkObject.getAttribute('href') !== 'undefined'){
			s.url=s.linkObject.getAttribute('href');
		s.prop37=s.eVar37=s.url.substring(s.url.lastIndexOf("/")+1,s.url.length);
		s.eVar43="D:"+s.prop37;
		s.events=s.apl(s.events,"event12",",",2);
		s.linkTrackEvents="event12";
		}
	}
	//link track
	if(nltrk!="y"){
    	s.linkTrackVars=s.apl(s.linkTrackVars,"prop18,prop19,prop20",',',2)
    	s.setupLinkTrack("prop18,prop19,prop20","SC_LINKS");
    	//if header search icon has been clicked
    	if(typeof s.prop19 !=="undefined" && s.prop19 !==""){
    		if(s.prop19.indexOf("sprite-placeholder.png") > -1){
   				s.prop19 = "hdr|Search"; 			
    		}
    		s.prop20 = s.prop18 + " | " + s.prop19;
    	}
	} /* Link Tracking */
	
	if(s.url){s.linkTrackVars="prop18,prop19,prop20,eVar37,eVar43,events";}/* 1.1.5.4 Add prop/evar37 and event when it is a download link*/

	/* Internal Campaign: This script relies on the use of 'INTCMP' in the query parameter of any links considered internal within the fedex site(s). Event44 is triggered whenever the internal campaign script is fired. */
	if(!s.eVar45){
		s.eVar45=s.Util.getQueryParam('INTCMP'); 		
		s.eVar45=s.getValOnce(s.eVar45,'s_intcampaign',0);
		//add event82 click throughs event and event83 click-pasts event for bags/sags
		s.clickPast(s.eVar45,'event82','event83','s_cp-bag');
		
	}
	if(s.eVar45){
		/* Use list var's site wide for display tracking to reduce server calls */
		s.list1 = s.eVar45;	//Overwrite anything in s.list1 already as clicks take precedence over impressions.
		s.events = s.apl(s.events,'event44',',',2);
	} 
	/* External Campaign*/
	if(!s.campaign){

		//setting s.eVar58 with LINK data when CMP is in the url or s.campaign is true case.	.	
		s.campaign=s.Util.getQueryParam('CMP');	
		var at1=s.Util.getQueryParam('LINK');
		if(s.campaign && at1){s.eVar58=at1;}

		if(s.campaign==""){
			s.campaign = fdx_campaign();/* Get campaign id from parent frame*/
		}
		s.campaign=s.getValOnce(s.campaign,'s_campaign',0);		
	}	
	s.clickPast(s.campaign,'event23','event24');  /*Bounce Rate Script just for campaigns */
	
	/* Get AAM Segments */
	var aamSegs = s.getAamSegments('aam_sc','aamsc').replace(/\|/g, ","); //replace "|" by "," in the aamsc
	s.list2 = s.apl(s.list2, aamSegs, ',', 2);
	/*check platform parameter*/
	//070417: need to check platformType value with marketing
	var platformType = (typeof _satellite.getVar("TargetGlobalSettingsByUrl") !== "undefined" && _satellite.getVar("TargetGlobalSettingsByUrl").enable) ? "TARGET" : "NONE";
	s.prop32 = "PLATFORM_" + platformType;	

	/* Pass the current code revision number to c48 so the code revision number shows within reporting and can be referenced into the SDR against all changes made to the code.*/
	s.prop48=s_version+"_"+sc_code_ver+"_"+sc_code_ver_date;
	/* Put report suite into a prop. */
	s.prop50=s_account;	
	s.eVar41=s.getVisitNum('d'); /* Get Visit Number at Day scope - Daily Session number */
	s.prop31=(s.visitor.getAnalyticsVisitorID() !== '') ? '[CS]v1|' + s.visitor.getAnalyticsVisitorID() + '[CE]' : s.visitor.getMarketingCloudVisitorID();

	nltrk=""; /* Used to differentiate Custom Link tracking legacy HBX from standard link tracking. This clears the variable after the s_code has been fired so the next page starts clean. */


	//MVP1 end

// /*ADOBE: Line 4134 is likely not needed */

// 	var pageURL=document.location.href; /* Place URL into variable for later use */
// 	var lcRf = document.referrer; /* Place referrer into variable for later use */
// 	var firstPage=s.getVisitStart("s_visit"); /* 1.1.0.87 - First Hit Colleciton */

// 	s.prop10=s.eVar10=s.getNewRepeat(365); /* New/Repeat - Set for 2 year  3.0.16.4	- ACTION REQUIRED - FedEx may wish to increase to 730 days (two years)*/
// 	/*1.1.6.3 add prop64 IPEX - REMOVED in 1.1.13.5*/
// 	if(nltrk!="y"){
// 		s.linkTrackVars=s.apl(s.linkTrackVars,"prop18,prop19,prop20",',',2)
// 		s.setupLinkTrack("prop18,prop19,prop20","SC_LINKS");
// 	} /* Link Tracking */
	
// 	if(s.url){s.linkTrackVars="prop18,prop19,prop20,prop37,eVar37,prop43,eVar43,events";}/* 1.1.5.4 Add prop/evar37 and event when it is a download link*/
	


// 	/* 1.1.13.26 Remove eVar35 (Browser Language) */


// 	//3.0.4.1 Allocate eVar13 to capture fdx_cbid cookie value
// 	if(fdx_cbid !==''){
// 		s.eVar13 = fdx_cbid;
// 	}

	
// 	/*2.0.2.1 Assign CMP="KNC-" to "Unknown Paid Search" */
// 	if(s._channel==="Unknown Paid Channel"){
// 		 if(s.campaign.toLowerCase().indexOf("knc-") !== -1) { /* 2.0.3.4 - Fix Unknown Paid Search / Unknown Paid Channel */
//  		 	s._channel = "Unknown Paid Search";
//  		 }
// 	}
// 	/*2.0.4.12 evar16, cmp:s_kwcid:code:link*/
// 	if(s.campaign.toLowerCase().indexOf("knc-") !== -1 && s.Util.getQueryParam('s_kwcid')) {
// 		s.eVar16=s.campaign+":"+s.Util.getQueryParam('s_kwcid')+":"+s.Util.getQueryParam('code')+":"+s.Util.getQueryParam('LINK');
// 	}
	
// 	if(s._channel=="Natural Search"){
// 		s._channel="Organic"; /* If the Channel is 'Natural Search' then rename it to 'Organic'.*/
// 		s._campaign= s._partner + "-" + s._channel + "-" + s._keywords.toLowerCase(); /* If the Channel is Organic then build a campaign for it by concatonating partner (Google or Yahoo, etc - the search engine referring traffic), channel, and keyword. */
// 		/* 2.0.0.3  Disable eVars 13, 14, 16, 17, and 23 */
// 	}

// 	if(s._channel=="Paid Search"){/*s.eVar23=s._campaign;*/}

// 	if(s._channel=="Other Natural Referrers"){
// 		s._channel="Other Referrers"; /* If the Channel is 'Other Natural Referrers' then rename it to 'Other Referrers'.*/
// 		s._campaign= s._channel + "-" + s._referringDomain;/* If the Channel is 'Other Referrers' then build the Other Refferrers Campaign by concatonating the Channel and the Referring Domain.*/
// 	}

// 	/* 2.0.0.3  Disable eVars 13, 14, 16, 17, and 23 */
// 	s.eVar15=s._partner;
// 	s.campaign=s._campaign; // 1.1.0.25 - Possible Change to separate Channel from Campaign and have both 

// 	/* 1.1.13.4 Format search keyword string */
// 	//Remove plus signs from keywords where plus signs weren't originally used
// 	if(typeof s._keywords !== 'undefined'){
// 		if(s._keywords.indexOf('+')==0){
// 			s._keywords=s._keywords.replace('+','  ');
// 		}
// 		s._keywords=s.repl(s._keywords,'+',' ');
// 		s._keywords=s.repl(s._keywords,'  ',' +').replace(/^\s+/,"");
// 	}
// 	/* 1.1.13.5 Pathing for keywords */
// 	s.eVar18=s._keywords;
// 	//retire prop62,prop63 and prop64 in Aug14 DL. 
// 	if(typeof s._channel !== 'undefined') {
// 		var srchInfo = "";
// 		if(s._channel === "Paid Search"){
// 			srchInfo="P:"+s.eVar18; 
// 		}else if(s._channel === "Organic"){	
// 			srchInfo="O:"+s.eVar18;
// 		}
// 	}
// 	s.eVar19=s._channel;

// 	if(s.eVar60){s.eVar19="Exact Target " + s._channel;} /* 3.0.24.1 May16- add channel info to diff Exact Target Email vs Exact Taget Transactional Email */
// 	//if(s.eVar60){s.eVar19="Exact Target Email";} /* 3.0.23.1 April16- replace Acxiom Genesis Email by Exact Target Email */
// 	var DFAChck=s.Util.getQueryParam('dfaid');
// 	DFAChck=s.getValOnce(DFAChck,'s_dfachck',0);
// 	if(DFAChck){s.eVar19="DFA Genesis Campaign";} /* 1.1.0.45 - DFA Channel Check */
// 	/* 1.1.11.9 mirrored s.eVar19 to s.eVar27, s.eVar28, s.eVar33*/
// 	/* 1.1.0.46 - Channel Manager Channel Handling MediaMind Channel Check */
// 	if(s.eVar19){s.eVar26=s.eVar27=s.eVar28=s.eVar33="D=v19";}

// 	/* 2.0.0.4 Previous acquisition channel */
// 	var prevChan = '';
// 	var prevChanStart;
// 	var newChanStart = new Date().getTime();
// 	var prevChanHours = 0;

// 	prevChan = s.c_r('s_prevChan');															//Get previous channel info if it exists.
// 	prevChanStart = Number(prevChan.split('|')[1]);											//Get the starting timestamp of the previous channel.
// 	prevChan = prevChan.split('|')[0];														//Get the previous channel.

// 	if (prevChan !== '' && typeof s.eVar19 !== 'undefined' && prevChan !== s.evar19) {		//Check to see if channel changed
// 		prevChanHours = Math.floor((newChanStart - prevChanStart) / 3600000);				//Calculate hours in previous channel.

// 		s.eVar17 = prevChan + '|' + prevChanHours;

// 		prevChan = s.eVar19 + '|' + newChanStart;											//Reset previous channel to new channel.
// 		s.getAndPersistValue(prevChan, 's_prevChan', fdx_attr_days);									//Store new previous channel.
// 	}
// 	else if (prevChan === '' && typeof s.eVar19 !== 'undefined') {
// 		prevChan = s.eVar19 + '|' + newChanStart;
// 		s.getAndPersistValue(prevChan, 's_prevChan', fdx_attr_days);									//Store new previous channel.
// 	}
// 	/* End - 2.0.0.4 Previous acquisition channel */

// 	if(s.Util.getQueryParam('s_kwcid')){s.pageURL=s.manageQueryParam('s_kwcid',1,1);}
// 	var scmcvp=s.getQueryParamNoEncode('s_kwcid','',s.pageURL); /* Search Center Query Reposition */

// 	s.clickPast(s.campaign,'event23','event24');  /*Bounce Rate Script just for campaigns */
// 	/* 1.1.0.94 Determine bounce for Search Center Query Param */ 
// 	s.SEMvar = s.Util.getQueryParam('s_kwcid');
// 	s.SEMvar = s.getValOnce(s.SEMvar,'SEM_var',0);
// 	s.clickPast(s.SEMvar,'event93','event94','s_cp2');

// 	/* 1.1.0.92 - Fix Inflated Stacking Channel Manager Campaign */
// 	/*2.0.4.2 Replace 30 days with fdx_attr_days+'' */
// 	/*1.1.10.1 prefix ! to differetiate the first campaign*/ 
// 	//3.0.22.2 Reduce cookie size: reduce distinct value of s_cpmcvp, s_scntrcvp, s_skwcvp from 5 to 3, and s_chancvp from 10 to 5
// 	if(!s.eVar20 && s._campaign){s.eVar20="!"+s.crossVisitParticipation(s._campaign,'s_cpmcvp',fdx_attr_days+'','3','>','',1);}  CVP on unified campaign tracking code from channel manager 
// 	/* 1.1.0.92 - Fix Inflated Stacking Search Center */
// 	if(!s.eVar21 && scmcvp){s.eVar21="!"+s.crossVisitParticipation(scmcvp,'s_scntrcvp','90','3','>','purchase',1);} /* CVP on search center campaign */
// 	/* 1.1.13.7 (b) Remove the code below to repurpose event13, event14, and evar44*/
// 	/* 2.0.0.12 Use eVar19 in place of s._channel for stacking */
// 	if(!s.eVar44 && s.eVar19){s.eVar44="!"+s.crossVisitParticipation(s.eVar19,'s_chancvp',fdx_attr_days+'','5','>','',1);} /* CVP on acquisition channel from channel manager */
// 	/* 1.1.13.41 Use eVar47 for paid search engine stacking */
// 	/*2.0.4.1 Changed from paid search engine stacking to Search Keyword Stacking */
// 	//retire prop62,prop63 and prop64 in Aug14DL, replace prop63 by var:srchInfo
// 	if(!s.eVar47 && s._partner && s._channel && (s._channel==="Paid Search" || s._channel === "Organic" )){s.eVar47="!"+s.crossVisitParticipation(srchInfo.substring(0,50),'s_skwcvp',fdx_attr_days+'','3','>','',1);} /* CVP on search keywords when acquisition channel=paid search or ogragnic */

// 	/* 1.1.0.32 - Add Documentation for Product Data Pass Through Variable - Product Syntax. This allows FX to pass any product syntax required.*/
// /*ADOBE: Line 4447 can be removed. Products will be set through the data layer */	
// 	if(typeof prdcts !="undefined" && prdcts !=""){s.products=prdcts;}
// 	/* 	1.1.0.8 - Data Pass Through Variable for Purchase ID [The purchase ID must be 20 characters or less, and be standard ASCII] */
// /*ADOBE: Line 4450 can be removed. Purchase ID will be set through the data layer, eventually, but not needed for MVP1 */		
// 	if(typeof prchID !="undefined" && prchID !=""){s.purchaseID=prchID;}
// 	/* 1.1.13.19 Remove prp4 and prp6 overrides */
// 	/* 1.1.0.37 - User ID. This allows FX to pass User ID at the page level.*/
// 	/* 1.1.0.61 - APAC Custom Form Tracking */
// 	/* 3.0.11.? - Remove override to go with manifest driven form abandonment tracking */

// 	/*1.1.5.1 - Enable pass-through prp64 for IPEX. - REMOVED in 1.1.13.5*/ /*1.1.6.3 - Check for IPEX cookie. - REMOVED in 1.1.13.5*/ 
	
// 	// 3.0.11 Overrides - SBC, SMAC, Rewards
// /*ADOBE: Lines 4460 through 4463 can be removed if variables not needed for MVP1 */	
// 	if(typeof vr34!="undefined" && vr34!=""){s.eVar34=vr34;}
// 	if(typeof vr35!="undefined" && vr35!=""){s.eVar35=vr35;}
// 	if(typeof vr36!="undefined" && vr36!=""){s.eVar36=vr36;}

// /*ADOBE: Lines 4466 through 4495 may not all be needed for MVP1. If some are, then data layer properties should be set for these values */	
// 	/* 1.1.4.4 - Enable pass-through of generic props and eVars (70-72). */
// 	if(typeof prp70!="undefined" && prp70!=""){s.prop70=prp70;}
// 	if(typeof vr70!="undefined" && vr70!=""){s.eVar70=vr70;}
// 	if(typeof prp70!="undefined" && prp70!="" && typeof vr70!="undefined" && vr70!="" && prp70==vr70){s.prop70="D=v70";}
// 	if(typeof prp71!="undefined" && prp71!=""){s.prop71=prp71;}
// 	if(typeof vr71!="undefined" && vr71!=""){s.eVar71=vr71;}
// 	if(typeof prp71!="undefined" && prp71!="" && typeof vr71!="undefined" && vr71!="" && prp71==vr71){s.prop71="D=v71";}
 	if(typeof prp72!="undefined" && prp72!=""){s.prop72=prp72;}
// 	if(typeof vr72!="undefined" && vr72!=""){s.eVar72=vr72;}
// 	if(typeof prp72!="undefined" && prp72!="" && typeof vr72!="undefined" && vr72!="" && prp72==vr72){s.prop72="D=v72";}
// 	//3.0.17 Overrides for SBC
// 	//Oct16: TFC
// 	if(typeof vr77!="undefined" && vr77!=""){s.eVar77=vr77;}
// 	if(typeof vr78!="undefined" && vr78!=""){s.eVar78=vr78;}
// 	if(typeof vr79!="undefined" && vr79!=""){s.eVar79=vr79;}
// 	//3.0.20.3: Overrides for reward vr81: evar81
// 	if(typeof vr81!="undefined" && vr81!=""){s.eVar81=vr81;}
// 	/*2.0.7.7 Override for list2 and list3; if lst 2 exits, set s.list2 and s.prop71 equal to it*/
// 	/*3.0.15.1*/
// 	if(typeof lst2!="undefined" && lst2!=""){lst2=lst2.replace(/\|/g, ","); s.list2=s.apl(s.list2, lst2, ',', 2); s.prop71=lst2; s.eVar71=lst2;}
// 	if(typeof lst3!="undefined" && lst3!=""){s.list3=lst3;}	
// 	if(typeof lst1!="undefined" && lst1!=""){s.list1=s.apl(s.list1, lst1, ',', 2);}	
// 	/* 1.1.13.9 Repurpose eVar74 from Tracking Number */
// 	if(typeof prp74 !="undefined" && prp74 !=""){s.prop74=prp74;} /* 1.1.0.24 - Mobile Tracking Number */
// 	if(typeof vr11 !="undefined" && vr11 !=""){s.prop11=vr11;} /* 1.1.13.35 - Pass through for eVar11 - Locator app */ /* 2.0.3.2 - Change from eVar to prop */
// 	if(typeof prp11 !="undefined" && prp11 !=""){s.prop11=prp11;}
// 	/*2.0.4.10 responsive design data*/
// 	if(typeof fx_responsivedata !="undefined" && fx_responsivedata !=""){s.prop67=fx_responsivedata;}
// 	/* 2.0.2.4 Store account and nonexit link overwrite */
// 	if(typeof s_acnt !="undefined"){s.prop73 ="acnt_" + s_acnt;} 
// 	if(typeof nonExitLinks !="undefined"){s.prop73 +=":nonexit_" + nonExitLinks;}

// 	//Feb17: opCode in logTrack object
// /*ADOBE: Lines 4499 - 4550 likely not needed for MVP1 */
// 	if(typeof vr107 !="undefined" && vr107 !=""){s.eVar107=vr107;} 
    
// 	/* 1.1.7.1 *//*1.1.8.4 Add 2 more OADR conversions and 2 more LTL conversions*//*1.1.11.5 Added event42. Updated event58/event46*/ /* 1.1.13.44 Added event39. Techconnect label */ /* 2.0.0.7 Update LTL conversion to correct page names */ /* 2.0.0.8 Update WERL conversion to notifications for Condor *//*2.0.4.8 Add event20 for new locator pagename*//*2.0.5.2 Remove the page conversions for event47, 48, 49, 50*/
// 	/* 3.0.13.3 sclookup cleanup */
// 	// 3.0.28.04:Jan17 move sclookup to contentim.json file
// 	//sclookup=fdx_config.analytics.sclookup;
// 	//sclookup="adobetest~~c~event0|fedex/oadr/landing/:fcl confirmation page~~c~event54|oadr confirmation page/newaccount~~c~event53,event40|oadr confirmation page/discount~~c~event53,event41|oadr confirmation page~~c~event53|~fcl/web/jsp/fclConfirmation.jsp~c~event54|fedex/unified/trackdetailspage~~c~event42|~fedexbillingonline/registrationConfirm.jsp~c~event9|pickup/confirmation~~c~event17|quickquote_resultsummary~~c~event18|transitonly_resultsummary~~c~event18|detailedquote_resultsummary~~c~event18|~ratefinder/standalone?method=getQuickQuote~c~event55|~ratefinder/fclhome~c~event55|wgrt/resultsummary~~c~event18|fedex/locate/search~~c~event20|/dropoff/dropoff locator search results~~c~event20|fedex/inet/ltl/label/profile/domestic~~c~event7|fedex/inet/ltl/label/profile/international~~c~event8|fedex/werl/notifications~~c~event35|fedex/tcwp/rmacomplete/getac~~c~event39|wgrt/ltlfreightrating~~c~event109|fclfederate/epsilon/landing/:fcl confirmation page~~c~event40|";
// 	sclookup="adobetest~~c~event0|fedex/oadr/landing/:fcl confirmation page~~c~event54|oadr confirmation page/newaccount~~c~event53,event40|oadr confirmation page/discount~~c~event53,event41|oadr confirmation page~~c~event53|~fcl/web/jsp/fclConfirmation.jsp~c~event54|fedex/unified/trackdetailspage~~c~event42|fedex/advanced/trackdetailspage~~c~event42|~fedexbillingonline/registrationConfirm.xhtml~c~event9|pickup/confirmation~~c~event17|quickquote_resultsummary~~c~event18|transitonly_resultsummary~~c~event18|detailedquote_resultsummary~~c~event18|~ratefinder/standalone?method=getQuickQuote~c~event55|~ratefinder/fclhome~c~event55|wgrt/resultsummary~~c~event18|fedex/locate/search~~c~event20|/dropoff/dropoff locator search results~~c~event20|fedex/inet/ltl/label/profile/domestic~~c~event7|fedex/inet/ltl/label/profile/international~~c~event8|fedex/werl/notifications~~c~event35|fedex/tcwp/rmacomplete/getac~~c~event39|wgrt/ltlfreightrating~~c~event109|fclfederate/epsilon/landing/:fcl confirmation page~~c~event40|fedex/register/welcomepage~~c~event54|";
// 	/* 1.1.0.58 - Conversion Solution with Try Catch */
// 	try {
// 		s.lookuplookup(sclookup); 
// 		/* 1.1.13.15 Add counter eVar for engagement score */
// 		if(s.eVar43.substring(0, 2)==="P:" || s.eVar43.substring(0, 2)==="V:"){fdx_engagement(s.pageName)};
// 		//fdx_loadIMScript(s.pageName);/*1.1.10.5*/
// 	}
// 	catch(e){fdx_debug(e,"SC","s_doPlugins:s.lookuplookup");}

// 	if(typeof sEvnts !="undefined" && sEvnts !=""){s.events=s.apl(s.events,sEvnts,',',2);} /* 1.1.0.30 - Event Data Pass Through Script */
// 	if(typeof sEvntsOnce !="undefined" && sEvntsOnce !=""){s.events=s.apl(s.events,sEvntsOnce,',',2);} /* Event Data Pass Through Script for Track POD */
	

// 	/* 2.0.1.2 Remove event7/8 from s.products */
// 	/* 1.1.8.3 Add empty product for event7/8 */
// 	/*2.0.2.5 Only count event35 one time per session*/
// 	var tempsEvnt=s.events + ",";
// 	if(tempsEvnt.match("event35,")){
// 		var werl="enrolled";
// 		werl=s.getValOnce(werl,"s_werl",0);
// 		if(werl==""){
// 			s.events=tempsEvnt.replace("event35,","");
// 		}
// 	}
	


// 	/* 1.1.14.1 Add TNT plugin for mbox support */
// /*ADOBE: Line 4544 can likely be removed. This is the legacy integration reporting between AA & Target, and Fedex is/should use the modernized A4T reporting*/
// 	s.tnt = s.trackTNT();	

// 	/*socialPlatforms v1.0 - used for SocialAnalytics*/
// 	s.socialPlatforms();




};

////================================================================================================================
///			Plug-in / Core Function Definitions
//==================================================================================================================
function fdx_initPlugins() {
	/* s.doPlugins is fired from s.t() */ 
	s.doPlugins=s_doPlugins;

	/* Defensive Coding Plug-In */
	s.p_checkInterval = new Array();
	s.p_cbct = 0;
	s.t_cb = function(timeout, funct) {
		var s=this;
		if (!timeout) {var timeout = 4000;}
		if (!funct) {funct = "s_p_callBackCode";}
		interval = 100;
		s.p_cbwait = 0;
		var p_cbil = 1;
		if (typeof(s.rc) != 'undefined') {p_cbil = s.rc[s.visitorNamespace];}
		if (p_cbil > s.p_cbct){
			s.p_cbct++;
			s.p_checkInterval[p_cbil] = setInterval("s.p_callBack("+timeout+", "+p_cbil+", '"+funct+"')", interval);
		}
	};

	s.p_callBack = function(timeout, p_cbil, funct) {
		var s=this;
		//0705NL: s_account will be set at DTM
		if (typeof(s.visitorNamespace) == 'undefined') {s.visitorNamespace = s_account;}
		var wb_il = '';
		if (p_cbil > 1) wb_il = '_' + (p_cbil-1);
		var wb_img = "s_i_" + s.visitorNamespace + wb_il;
		if (typeof(window[wb_img])!='undefined' && window[wb_img].height > 0) {	
			clearInterval(s.p_checkInterval[p_cbil]);
			return true;
		} else {
			s.p_cbwait += interval;	
			if (s.p_cbwait > timeout){ 
				clearInterval(s.p_checkInterval[p_cbil]);
				if(typeof(window[wb_img])!='undefined'){
					window[wb_img].src="https://www.fedex.com/images/ascend/shared/headers/corp_logo.gif?sc_response_failure";
				}
			}
			return false;
		}
	};

	/* s.lookuplookup Plug-in - v1
	Takes a comma delimiter set of data points and concatonates specific events based on mapping.
	*/
	s.lookuplookup = function(lookup)
	{
		var s=this,
			pipes=0,
			pipeloc,
			cs,
			tildeloc,
			looklen=lookup?lookup.length:0,
			row=new Array(),
			rowlen,
			rv=new Array(),
			url,pn,comp,ev;
		for(i=0;i<looklen;i++)
		{
			pipeloc=lookup.indexOf('|',i);
			if(pipeloc>-1)
			{
				row[pipes]=lookup.substring(i,pipeloc);
				pipes++;
				i=pipeloc;
			}
		}
		for(i=0;i<pipes;i++)
		{
			cs=0;
			rowlen=row[i]?row[i].length:0;
			for(j=0;j<rowlen;j++)
			{
				tildeloc=row[i].indexOf('~',j);
				if(tildeloc>-1)
				{
					rv[cs]=row[i].substring(j,tildeloc);
					cs++;
					j=tildeloc;
				}
				else if((tildeloc==-1&&cs<3)||cs>3)
					break;
				else if(tildeloc==-1&&cs==3)
				{
					rv[cs]=row[i].substring(j);
					break;
				}
			}
			if(tildeloc==-1&&cs==3)
			{
				pn=rv[0]; //pageName
				url=rv[1];//url
				comp=rv[2];//compare method
				ev=rv[3]; //event
				if(pn&&comp=='c'&&s.pageName.indexOf(pn)>-1)
				{
					s.events=s.apl(s.events,ev,',',2);
					break;
				}
				else if(pn&&comp=='e'&&s.pageName==pn)
				{	
					s.events=s.apl(s.events,ev,',',2);
					break;
				}
				else if(url&&comp=='c'&&document.URL.indexOf(url)>-1)
				{
					s.events=s.apl(s.events,ev,',',2);
					break;
				}
				else if(url&&comp=='e'&&document.URL==url)
				{
					s.events=s.apl(s.events,ev,',',2);
					break;
				}
			}
		}
	};
	/* 3.0.2.5 Form Tracking Plugin BEGIN */
	//CUSTOMIZED TO SUPPORT BROWSER UNLOAD... 3.0.8 - Form Tracking
	s.fae = function(event) {
		try {
			var ae, aet;

			if (typeof event !== 'undefined') {
				if(!event.activeElement || !event.activeElement.type) {
					return;
				}
				ae = event.activeElement;
				aet = ae.type;
			} else {
				if(!document.activeElement || !document.activeElement.type) {
					return;
				}
				ae = document.activeElement;
				aet = ae.type;
			}

			if(aet == 'text' || aet == "textarea" || aet == "checkbox" || aet == "radio" || aet == "select-one" || aet == "button"){
				var s_lff = ae.id;
				s_lff = (s_lff === "") ? ae.name : s_lff; 

				if (s_lff == "") {
					if(ae.outerHTML && ae.outerHTML !== '') {
						s_lff = ae.outerHTML.substring(0,85);
					}
				}

				if (s_lff === "") {
					var c_s_lff = fdx_getCookie('s_lff');
					s_lff = (typeof c_s_lff !== 'undefined') ? c_s_lff : '[PN:' + s.pageName + ']';
					s_lff = s_lff.replace(s.formName + '|', '');
				}

				fdx_setCookie('s_lff', s.formName + '|' + s_lff, 30, '/', '.fedex.com');
			}
		}
		catch(e){fdx_debug(e,"SC","s.fae");}
	};

	/* 3.0.2.5 Form Tracking Plugin BEGIN */
	/*	s.fae=new Function("",""
	+"if(document.activeElement.type=='text'){s.events=s.apl(s.events,'ev"
	+"ent5',',',2);s.oncePerPage('event5');s.c_w('s_lff',document.activeE"
	+"lement.name)}");*/
	/* 3.0.2.5 Form Tracking Plugin END */

	/* 3.0.2.5 Form Tracking Plugin END */

	/*
	 * Partner Plugin: DFA Check 0.9AM - Restrict DFA calls to once a 
	 visit, per report suite, per click through. Used in conjunction 
	 with VISTA 1.1.0.74 - Proposed change timeout to 3600000
	*/
	/*
	s.partnerDFACheck=new Function("c","src","p",""
	+"var s=this,dl=',',cr,nc,q,g,i,j,k,fnd,v=1,t=new Date,cn=0,ca=new Ar"
	+"ray,aa=new Array,cs=new Array;t.setTime(t.getTime()+1800000);cr=s.c"
	+"_r(c);if(cr){v=0;}ca=s.split(cr,dl);aa=s.split(s.account,dl);for(i="
	+"0;i<aa.length;i++){fnd=0;for(j=0;j<ca.length;j++){if(aa[i]==ca[j]){"
	+"fnd=1;}}if(!fnd){cs[cn]=aa[i];cn++;}}if(cs.length){for(k=0;k<cs.len"
	+"gth;k++){nc=(nc?nc+dl:'')+cs[k];}cr=(cr?cr+dl:'')+nc;s.vpr(p,nc);v="
	+"1;}q=window.location.search.toLowerCase();q=s.repl(q,'?','&');g=q.i"
	+"ndexOf('&'+src.toLowerCase()+'=');if(g>-1){s.vpr(p,cr);v=1;}if(!s.c"
	+"_w(c,cr,t)){s.c_w(c,cr,0);}if(!s.c_r(c)){v=0;}return v>=1;");
	*/

	/*
	 * Partner Plugin: DFA Check 1.0 - Restrict DFA calls to once a visit, per report suite, per click 
	 * through. Used in conjunction with VISTA. Deduplicates SCM hits. Jan16 for DFA connector for AA
	 */
	s.partnerDFACheck=new Function("cfg","" 
	+"var s=this,c=cfg.visitCookie,src=cfg.clickThroughParam,scp=cfg.searchCenterParam,p=cfg.newRsidsProp,tv=cfg.tEvar,dl=',',cr,nc,q,g,gs,i,j,k,fnd,v=1,t=new Date,cn=0,ca=new Array,aa=new Array,cs=new A"
	+"rray;t.setTime(t.getTime()+1800000);cr=s.c_r(c);if(cr){v=0;}ca=s.split(cr,dl);if(s.un)aa=s.split(s.un,dl);else aa=s.split(s.account,dl);for(i=0;i<aa.length;i++){fnd = 0;for(j=0;j<ca.length;j++){if(aa[i] == ca[j]){fnd=1;}}if(!fnd){cs[cn"
	+"]=aa[i];cn++;}}if(cs.length){for(k=0;k<cs.length;k++){nc=(nc?nc+dl:'')+cs[k];}cr=(cr?cr+dl:'')+nc;s.vpr(p,nc);v=1;}if(s.wd)q=s.wd.location.search.toLowerCase();else q=s.w.location.search.toLowerCase();q=s.repl(q,'?','&');g=q.indexOf('&'+src.toLow"
	+"erCase()+'=');gs=(scp)?q.indexOf('&'+scp.toLowerCase()+'='):-1;if(g>-1){s.vpr(p,cr);v=1;}else if(gs>-1){v=0;s.vpr(tv,'SearchCenter Visitors');}if(!s.c_w(c,cr,t)){s.c_w(c,cr,0);}if(!s.c_r(c)){v=0;}r"
	+"eturn v>=1;"); 

	/* Utility Function: vpr - set the variable vs with value v */
	// s.vpr=new Function("vs","v",
	// "if(typeof(v)!='undefined'){var s=this; eval('s.'+vs+'=\"'+v+'\"')}");
	//updated 01-12-2016 DFA data connector for Adobe Analytics
	s.vpr=new Function("vs","v",
	"if(typeof(v)!='undefined' && vs){var s=this; eval('s.'+vs+'=\"'+v+'\"')}");

	s.getActionDepth=new Function("c",""
	+ "var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);"
	+ "if(!s.c_r(c)){v=1}if(s.c_r(c)){v=s.c_r(c);v++}"
	+ "if(!s.c_w(c,v,t)){s.c_w(c,v,0)}return v;");

	s.getVisitNum=new Function("tp","c","c2",""
	+"var s=this,e=new Date,cval,cvisit,ct=e.getTime(),d;if(!tp){tp='m';}"
	+"if(tp=='m'||tp=='w'||tp=='d'){eo=s.endof(tp),y=eo.getTime();e.setTi"
	+"me(y);}else {d=tp*86400000;e.setTime(ct+d);}if(!c){c='s_vnum';}if(!"
	+"c2){c2='s_invisit';}cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn="
	+"'),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisi"
	+"t){if(str){e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}els"
	+"e {return 'unknown visit number';}}else {if(str){str++;k=cval.substri"
	+"ng(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+1800000);"
	+"s.c_w(c2,'true',e);return str;}else {s.c_w(c,e.getTime()+'&vn=1',e)"
	+";e.setTime(ct+1800000);s.c_w(c2,'true',e);return 1;}}");

	s.dimo=new Function("m","y",""
	+"var d=new Date(y,m+1,0);return d.getDate();");

	s.endof=new Function("x",""
	+"var t=new Date;t.setHours(0);t.setMinutes(0);t.setSeconds(0);if(x=="
	+"'m'){d=s.dimo(t.getMonth(),t.getFullYear())-t.getDate()+1;}else if("
	+"x=='w'){d=7-t.getDay();}else {d=1;}t.setDate(t.getDate()+d);return "
	+"t;");

	/*v2.0*/
	s.getVisitStart=new Function("c",""
	+"var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c"
	+")){v=0}if(!s.c_w(c,1,t)){s.c_w(c,1,0)}if(!s.c_r(c)){v=0}return v;");

	/*v1.7*/
	s.crossVisitParticipation=new Function("v","cn","ex","ct","dl","ev","dv",""
	+"var s=this,ce;if(typeof(dv)==='undefined')dv=0;if(s.events&&ev){var"
	+" ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.l"
	+"ength;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}i"
	+"f(!v||v==''){if(ce){s.c_w(cn,'');return'';}else return'';}v=escape("
	+"v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array()"
	+";if(c&&c!=''){arry=s.split(c,'],[');for(q=0;q<arry.length;q++){z=ar"
	+"ry[q];z=s.repl(z,'[','');z=s.repl(z,']','');z=s.repl(z,\"'\",'');arry"
	+"[q]=s.split(z,',')}}var e=new Date();e.setFullYear(e.getFullYear()+"
	+"5);if(dv==0&&arry.length>0&&arry[arry.length-1][0]==v)arry[arry.len"
	+"gth-1]=[v,new Date().getTime()];else arry[arry.length]=[v,new Date("
	+").getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new"
	+" Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td."
	+"getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0"
	+"]);a[g]=[arry[x][0],arry[x][1]];g++;}}var data=s.join(a,{delim:',',"
	+"front:'[',back:']',wrap:\"'\"});s.c_w(cn,data,e);var r=s.join(h,{deli"
	+"m:dl});if(ce)s.c_w(cn,'');return r;");

	s.p_gpvne=new Function("k","u",""
	+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"
	+"=s.pt(q,'&','p_gvfne',k)}return v");

	s.p_gvfne=new Function("t","k",""
	+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"
	+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return v;"
	+"}return ''");

	/* Plugin Utility: s.pt  */
	s.pt=new Function("x","d","f","a",""
	+"var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t"
	+".substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substri"
	+"ng(z,x.length);t=z<x.length?t:''}return'';");

	s.getQueryParamNoEncode=new Function("p","d","u",""
	+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:window.loca"
	+"tion);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0"
	+"?p.length:i;t=s.p_gpvne(p.substring(0,i),u+'');if(t)v+=v?d+t:t;p=p."
	+"substring(i==p.length?i:i+1)}return v");

	s.getNewRepeat=new Function("d","cn",""
	+"var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:"
	+"'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length="
	+"=0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct"
	+"-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'N"
	+"ew';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}");

	s.getValOnce=new Function("v","c","e",""
	+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
	+")+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v");

	/*v1.0*/
	s.getPreviousValue=new Function("v","c","el",""
	+"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"
	+"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"
	+"){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t)"
	+":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?"
	+"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");

	s.getTimeParting=new Function("t","z","y",""
	+"dc=new Date('1/1/2000');f=15;ne=8;if(dc.getDay()!=6||"
	+"dc.getMonth()!=0){return'Data Not Available'}else{;z=parseInt(z);"
	+"if(y=='2009'){f=8;ne=1};gmar=new Date('3/1/'+y);dsts=f-gmar.getDay("
	+");gnov=new Date('11/1/'+y);dste=ne-gnov.getDay();spr=new Date('3/'"
	+"+dsts+'/'+y);fl=new Date('11/'+dste+'/'+y);cd=new Date();"
	+"if(cd>spr&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneO"
	+"ffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear("
	+");var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Fr"
	+"iday','Saturday'];if(thisy!=y){return'Data Not Available'}else{;thi"
	+"sh=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow="
	+"days[thisd];var ap='AM';var dt='Weekday';var mint='00';if(thismin>3"
	+"0){mint='30'}if(thish>=12){ap='PM';thish=thish-12};if (thish==0){th"
	+"ish=12};if(thisd==6||thisd==0){dt='Weekend'};var timestring=thish+'"
	+":'+mint+ap;var daystring=dow;var endstring=dt;if(t=='h'){return tim"
	+"estring}if(t=='d'){return daystring};if(t=='w'){return en"
	+"dstring}}};");

	/*setupLinkTrack 3.0.3 AM+ - Customized/updated from J.B.7/7/2014*/
	s.setupLinkTrack=new Function("vl","c","e",""
	+"var s=this;var cv=s.c_r(c);if(vl){var vla=vl.split(',');}if(cv!='')"
	+"{var cva=s.split(cv,'^^');if(cva[1]!=''){for(x in vla){s[vla[x]]=cv"
	+"a[x];if(e){s.events=s.apl(s.events,e,',',2);}}}}s.c_w(c,'',0);if(ty"
	+"peof s.linkObject!='undefined'&&s.hbx_lt!='manual'){s.lta=[];if(typ"
	+"eof s.linkObject!=null){slo=s.linkObject;if(s.linkObject!=0){if(s.l"
	+"inkObject.getAttribute('name')!=null){var b=s.linkObject.getAttribu"
	+"te('name');if(b.indexOf('&lpos=')>-1){s.lta[3]=b.match('\&lpos\=([^\&]*)"
	+"')[1];}if(b.indexOf('&lid=')>-1){s.lta[1]=b.match('\&lid\=([^\&]*)"
	+"')[1];}}}if(typeof s.lta[1]=='undefined'){if(s.linkName!=0){s.l"
	+"ta[1]=s.linkName;}else if(s.linkObject!=0){if(s.linkObject.innerHTM"
	+"L.indexOf('<img')>-1){s.lta[1]=s.linkObject.innerHTML.match('src=\"("
	+"[^\"]*)')[1];}else{s.lta[1]=s.linkObject.innerHTML;}}else if(s.linkU"
	+"RL){s.lta[1]=s.linkURL;}else{s.lta[1]=null;}}if(s.lta[1]!=null){if("
	+"typeof s.pageName!='undefined')s.lta[0]=s.pageName;s.lta[2]=s.pageN"
	+"ame+' | '+s.lta[1];}}if(s.linkType!=0){for(var x=0;x<vla.length;x++"
	+"){s[vla[x]]=s.cleanStr(s.lta[x]);if(e){s.events=s.apl(s.events,e,',"
	+"',2);s.linkTrackVars=s.apl(s.linkTrackVars,'events',',',2);}}s.link"
	+"TrackVars=s.apl(s.linkTrackVars,vl,',',2);}else{if(s.lta[1]){var tc"
	+"v='';for(var x=0;x<s.lta.length;x++){tcv+=s.cleanStr(s.lta[x])+'^^'"
	+";}s.c_w(c,tcv);}}s.lta=null;}");
	//CUSTOM LINK CLEANING FUNCTION FROM ADOBE FOR s.setupLinkTrack
	s.cleanStr = function(a){
	      if(typeof a != 'undefined'){
	            a = a.replace(/<\/?[^>]+(>|$)/g, '');
	            a = a.replace(/^\s+|\s+$/g,'');
	            return a;
	      }
	} 

	s.split=new Function("l","d",""
	+"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"
	+"++]=l.substring(0,i);l=l.substring(i+d.length);}return a");

	s.apl=new Function("L","v","d","u",""
	+"var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a."
	+"length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
	+"e()));}}if(!m)L=L?L+d+v:v;return L");

	s.getAndPersistValue=new Function("v","c","e",""
	+"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if("
	+"v)s.c_w(c,v,e?a:0);return s.c_r(c);");

	s.join = new Function("v","p",""
	+"var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back"
	+":'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0"
	+";x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);el"
	+"se str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");
	
	/*
	 * Plugin: socialPlatforms v1.1, provided by Adobe Derek 
	 */
	s.socialPlatforms=new Function("a",""
	+"var s=this,g,K,D,E,F,i;g=s.referrer?s.referrer:document.referrer;g=g."
	+"toLowerCase();K=s.split(s.socPlatList,'|');for(i=0;i<K.length;i++){"
	+"D=s.split(K[i],'>');if(g.indexOf(D[0])!=-1){s.contextData['a.socialcontentprovider']=D[1];}}");
	 
	s.socPlatList="facebook.com>Facebook|twitter.com>Twitter|t.co/>Twitter|youtube.com>Youtube|clipmarks.com>Clipmarks|dailymotion.com>Dailymotion|delicious.com>Delicious|digg.com>Digg|diigo.com>Diigo|flickr.com>Flickr|flixster.com>Flixster|fotolog.com>Fotolog|friendfeed.com>FriendFeed|google.com/buzz>Google Buzz|buzz.googleapis.com>Google Buzz|plus.google.com>Google+|hulu.com>Hulu|identi.ca>identi.ca|ilike.com>iLike|intensedebate.com>IntenseDebate|myspace.com>MySpace|newsgator.com>Newsgator|photobucket.com>Photobucket|plurk.com>Plurk|slideshare.net>SlideShare|smugmug.com>SmugMug|stumbleupon.com>StumbleUpon|tumblr.com>Tumblr|vimeo.com>Vimeo|wordpress.com>WordPress|xanga.com>Xanga|metacafe.com>Metacafe|pinterest.com>Pinterest";
	/*
	 * socialAuthors v1.5.1
	 */
	s.socialAuthors=new Function("",""
	+"var s=this,g;g=s.referrer?s.referrer:document.referrer;if(g.indexOf"
	+"('http://t.co/')===0||g.indexOf('https://t.co/')===0||g.indexOf('pi"
	+"nterest.com/pin')!==-1||g.indexOf('tumblr.com')!==-1||g.indexOf('yo"
	+"utube.com')!==-1){s.Integrate.add('SocialAuthor');s.Integrate.Socia"
	+"lAuthor.get('http://sa-services.social.omniture.com/author/name?var"
	+"=[VAR]&callback=s.socialAuthorSearch&rs='+encodeURIComponent(s.acco"
	+"unt)+'&q='+encodeURIComponent(g));s.Integrate.SocialAuthor.delay();"
	+"s.Integrate.SocialAuthor.setVars=function(s,p){s.contextData['a.soc"
	+"ialauthor']=s.user;}}");
	s.socialAuthorSearch=new Function("obj",""
	+"var s=this;if(typeof obj==='undefined'||typeof obj.author==='undefi"
	+"ned'){s.user='Not Found';}else{s.user=obj.author;}s.Integrate.Socia"
	+"lAuthor.ready();");

	/*0.41AM*/
	if(!s.__ccucr){
	    s.c_rr = s.c_r;
	    s.__ccucr = true;
	    function c_r(k){
	        var s = this,d = new Date,v = s.c_rr(k),c = s.c_rspers(),i, m, e;
	        if(v)return v;k = s.Util.urlDecode(k);i = c.indexOf(' ' + k + '=');c = i < 0 ? s.c_rr('s_sess') : c;
	        i = c.indexOf(' ' + k + '=');m = i < 0 ? i : c.indexOf('|', i);
	        e = i < 0 ? i : c.indexOf(';', i);m = m > 0 ? m : e;
	        v = i < 0 ? '' : s.Util.urlDecode(c.substring(i + 2 + k.length, m < 0 ? c.length : m));
	        return v;
	    }
	    function c_rspers(){
	        var cv = s.c_rr("s_pers");var date = new Date().getTime();var expd = null;var cvarr = [];var vcv = "";
	        if(!cv)return vcv; cvarr = cv.split(";");for(var i = 0, l = cvarr.length; i < l; i++){
	        expd = cvarr[i].match(/\|([0-9]+)$/);if(expd && parseInt(expd[1]) >= date){vcv += cvarr[i] + ";";}}
	        return vcv;
	    }
	    s.c_rspers = c_rspers;
	    s.c_r = c_r;
	}
	if(!s.__ccucw){
	    s.c_wr = s.c_w;
	    s.__ccucw = true;
	    function c_w(k, v, e){
	        var s = this,d = new Date,ht = 0,pn = 's_pers',sn = 's_sess',pc = 0,sc = 0,pv, sv, c, i, t;
	        d.setTime(d.getTime() - 60000);if(s.c_rr(k))s.c_wr(k, '', d);k = s.Util.urlEncode(k);
	        pv = s.c_rspers();i = pv.indexOf(' ' + k + '=');if(i > -1){
	        pv = pv.substring(0, i) + pv.substring(pv.indexOf(';', i) + 1);pc = 1;}
	        sv = s.c_rr(sn);i = sv.indexOf(' ' + k + '=');if(i > -1){
	        sv = sv.substring(0, i) + sv.substring(sv.indexOf(';', i) + 1);sc = 1;}
	        d = new Date;if(e){if(e.getTime() > d.getTime()){
	        pv += ' ' + k + '=' + s.Util.urlEncode(v) + '|' + e.getTime() + ';';pc = 1;}}
	        else{sv += ' ' + k + '=' + s.Util.urlEncode(v) + ';';sc = 1;}sv = sv.replace(/%00/g, '');
	        pv = pv.replace(/%00/g, '');if(sc)s.c_wr(sn, sv, 0);if(pc){t = pv;
	        while(t && t.indexOf(';') != -1){var t1 = parseInt(t.substring(t.indexOf('|') + 1, t.indexOf(';')));
	        t = t.substring(t.indexOf(';') + 1);ht = ht < t1 ? t1 : ht;}d.setTime(ht);
	        s.c_wr(pn, pv, d);}return v == s.c_r(s.Util.urlEncode(k));}
	    s.c_w = c_w;
	}

	s.p_fo=new Function("n",""
	+"var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]="
	+"new Object;return 1;}else {return 0;}");

	s.repl=new Function("x","o","n",""
	+"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x."
	+"substring(i+o.length);i=x.indexOf(o,i+l)}return x");

	s.clickPast=new Function("scp","ct_ev","cp_ev","cpc",""
	+"var s=this,scp,ct_ev,cp_ev,cpc,ev,tct;if(s.p_fo(ct_ev)==1){if(!cpc)"
	+"{cpc='s_cpc';}ev=s.events?s.events+',':'';if(scp){s.events=ev+ct_ev"
	+";s.c_w(cpc,1,0);}else{if(s.c_r(cpc)>=1){s.events=ev+cp_ev;s.c_w(cpc"
	+",0,0);}}}");

	/* Plugin: manageQueryParam 2.1AM */
	s.manageQueryParam=new Function("p","w","e","u",""
	+"var s=this,x,y,i,qs,qp,qv,f,b;u=u?u:(s.pageURL?s.pageURL:''+window."
	+"location);x=u.indexOf('?');qs=x>-1?u.substring(x,u.length):'';u=x>-"
	+"1?u.substring(0,x):u;x=qs.indexOf('?'+p+'=');if(x>-1){y=qs.indexOf("
	+"'&');f='';if(y>-1){qp=qs.substring(x+1,y);b=qs.substring(y+1,qs.len"
	+"gth);}else{qp=qs.substring(1,qs.length);b='';}}else{x=qs.indexOf('&"
	+"'+p+'=');if(x>-1){f=qs.substring(1,x);b=qs.substring(x+1,qs.length)"
	+";y=b.indexOf('&');if(y>-1){qp=b.substring(0,y);b=b.substring(y,b.le"
	+"ngth);}else{qp=b;b='';}}}if(e&&qp){y=qp.indexOf('=');qv=y>-1?qp.sub"
	+"string(y+1,qp.length):'';var eui=0;while(qv.indexOf('%25')>-1){qv=u"
	+"nescape(qv);eui++;if(eui==10)break;}qv=s.replace(qv,'+',' ');qv=esc"
	+"ape(qv);qv=s.replace(qv,'%25','%');qv=s.replace(qv,'%7C','|');qv=s."
	+"replace(qv,'%7c','|');qp=qp.substring(0,y+1)+qv;}if(w&&qp){if(f)qs="
	+"'?'+qp+'&'+f+b;else if(b)qs='?'+qp+'&'+b;else qs='?'+qp}else if(f)q"
	+"s='?'+f+'&'+qp+b;else if(b)qs='?'+qp+'&'+b;else if(qp)qs='?'+qp;ret"
	+"urn u+qs;");

	/* Plugin: getPercentPageViewed 1.51AM */
	s.handlePPVevents=new Function("",""
	+"var W=window,s=W.s_name&&typeof W[s_name]=='object'?W[s_name]:0;if("
	+"!s||!s.getPPVid)return;var B=document.body,E=document.documentEleme"
	+"nt,D=window.document;d=Math.max(B.scrollHeight,E.scrollHeight,B.off"
	+"setHeight,E.offsetHeight,B.clientHeight,E.clientHeight),v=window.in"
	+"nerHeight||E.clientHeight||B.clientHeight,t=window.pageYOffset||D.d"
	+"ocumentElement.scrollTop||D.body.scrollTop,h=t+v,p=Math.min(Math.ro"
	+"und(h/d*100),100),c=s.c_r('s_ppv'),a=c.indexOf(',')>-1?c.split(',',"
	+"4):[],l=a.length,n=l>0?a[0]:escape(s.getPPVid),P=l>1?parseInt(a[1])"
	+":0,f=l>2?parseInt(a[2]):p,H=l>3?parseInt(a[3]):0,cn=p>0?n+','+(p>P?"
	+"p:P)+','+f+','+(h>H?h:H):'';s.c_w('s_ppv',cn)");
	s.getPercentPageViewed=new Function("n",""
	+"if(typeof this.linkType!='undefined')return'';var s=this,w=window,F"
	+"=false,e=window.addEventListener||window.attachEvent||'';i=3,v=s.c_"
	+"r('s_ppv'),a=v.indexOf(',')>-1?v.split(',',4):[];if(a.length<4){whi"
	+"le(i>0)a[i--]=i<a.length?a[i-1]:'';a[0]=''}a[0]=unescape(a[0]);s.ge"
	+"tPPVid=n=n||s.pageName||document.location.href;s.c_w('s_ppv',escape"
	+"(n));if(!s.getPPVevents){s.getPPVevents=1;if(!w.s_name){for(i in w)"
	+"if(w[i]===s){s_name=i;break}}for(i in{'load':'','scroll':'','resize"
	+"':''})e((window.attachEvent?'on':'')+i,s.handlePPVevents,F)}return "
	+"a");

	/* 1.1.14.1 Add TNT plugin for mbox support */
	/* TNT Integration Plugin v2.1*/
	s.trackTNT =new Function("v","p","b",""
	+"var s=this,n='s_tnt',q='s_tntref',p=(p)?p:n,v=(v)?v:n,r='',pm=false"
	+",b=(b)?b:true;if(s.Util.getQueryParam(q)!=''){s.referrer=s.Util.get"
	+"QueryParam(q);}else if(s.c_r(q)!=''){s.referrer=s.c_r(q);document.c"
	+"ookie=q+'=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;';}else if("
	+"(document.cookie.indexOf(q)!=-1&&s.c_r(q)=='')||(location.search.in"
	+"dexOf(q+'=')!=-1&&s.Util.getQueryParam(q)=='')){s.referrer='Typed/B"
	+"ookmarked';document.cookie=q+'=;path=/;expires=Thu, 01-Jan-1970 00:"
	+"00:01 GMT;';}if(s.Util.getQueryParam(p)!=''){pm=s.Util.getQueryPara"
	+"m(p);}else if(s.c_r(p)){pm=s.c_r(p);document.cookie=p+'=;path=/;exp"
	+"ires=Thu, 01-Jan-1970 00:00:01 GMT;';}else if(s.c_r(p)==''&&s.Util."
	+"getQueryParam(p)==''){pm='';}if(pm)r+=(pm+',');if(window[v]!=undefi"
	+"ned)r+=window[v];if(b)window[v]='';return r;");

	//3.0.14.3  getPageVisibility function: 
	//https://marketing.adobe.com/resources/help/en_US/sc/implement/pageVisibility.html
	//The plug-in creates its own first-party cookies named s_tps and s_pvs.
	/* Page Visibility Plugin 0.1 (BETA) */
	// s.getPageVisibility=new Function("",""
	// +"var s=this;if(s.getVisitStart()){s.Util.cookieWrite('s_pvs','');s.U"
	// +"til.cookieWrite('s_tps','');}if(s.Util.cookieRead('s_pvs')&&s.pvt<1"
	// +"){if(parseInt(s.Util.cookieRead('s_pvs'))<=parseInt(s.Util.cookieRe"
	// +"ad('s_tps'))){s.pve=s.pvel.split(',');s.events=s.apl(s.events,s.pve"
	// +"[0]+'='+(parseInt(s.Util.cookieRead('s_pvs'))),',',2);s.Util.cookie"
	// +"Write('s_pvs','');s.events=s.apl(s.events,s.pve[1]+'='+(parseInt(s."
	// +"Util.cookieRead('s_tps'))),',',2);s.Util.cookieWrite('s_tps','');s."
	// +"events=s.apl(s.events,s.pve[2],',',2);}}s.pvi=setInterval(s.pvx,100"
	// +"0);s.wpvi=setInterval(s.wpvc,5000);");
	// s.gbp=new Function("",""
	// +"if('hidden'in document){return null;}var bp=['moz','ms','o','webkit"
	// +"'];for(var i=0;i<bp.length;i++){var p=bp[i]+'Hidden';if(p in docume"
	// +"nt){return bp[i];}}return null;");
	// s.hp=new Function("p",""
	// +"if(p){return p+'Hidden';}else{return'hidden';}");
	// s.vs=new Function("p",""
	// +"if(p){return p+'VisibilityState';}else{return'visibilityState';}");
	// s.ve=new Function("p",""
	// +"if(p){return p+'visibilitychange';}else{return'visibilitychange';}");
	// s.pvx=new Function("",""
	// +"s.pvt+=1;");
	// s.wpvc = function(){var tempDate = Date.now();s.Util.cookieWrite('s_tps',Math.ceil((tempDate - s.totalTime)/1000));s.Util.cookieWrite('s_pvs', s.pvt)}
	// document.addEventListener('visibilitychange',function(event){if(document.hidden){s.visibility = false;clearTimeout(s.pvi);}else{s.visibility=true;s.pvi=setInterval(s.pvx,1000);}});s.totalTime=new Date();s.pvt=0;s.prefix=s.gbp;s.hidden=s.hp(s.prefix);s.visibility=true;s.visibilityState=s.vs(s.prefix);s.visibilityEvent=s.ve(s.prefix);


	//3.0.14.7 Capture AAM segment IDs in list2
	/*Gets the AAM segments out of a cookie. Requires replace (repl)*/
	s.getAamSegments=new Function("a","b",""
	+"var s=this;var c=s.c_r(a);if(c){c=s.repl(c,b+'=','');}ret"
	+"urn c");
	//06283017
	s.apl=new Function("L","v","d","u",""
	+"var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a."
	+"length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
	+"e()));}}if(!m)L=L?L+d+v:v;return L");
  
	/* Utility: makeGetQueryParamCI provided by Michael for Aug14DL fix AM case senstive issue*/
	if(window.s&&typeof window.s=='object'&&typeof s.Util&&typeof s.Util
	=='object'){window.s.Util.getQueryParam=function(b,a,c){var e, w=
	window;a||(a=s.pageURL?s.pageURL:w.location);c||(c="&");if(b&&a&&(a=
	""+a,e=a.indexOf("?"),e>=0&&(a=c+a.substring(e+1)+c,e=a.toString(
	).toLowerCase().indexOf(c+b.toString().toLowerCase()+"="),e>=0&&(a=
	a.substring(e+c.length+b.length+1),e=a.toString().toLowerCase(
	).indexOf(c.toString().toLowerCase()),e>=0&&(a=a.substring(0,e)),
	a.length>0))))return s.unescape(a);return""}};

	/* Utility: Once Per Page 1.1 */
	s.oncePerPage=function(t){if(t){var u = s.opp.split(',');	
	for (var w = 0; w < u.length; w++) {if (s.events) {
	v = new RegExp(',*?' + u[w] + '\\b');if (s.events.match(v) != null) {
	s.events = s.events.replace(v, '');if(s.events.substring(0,1)==','){
	s.events = s.events.substring(1,s.events.length);}}}}
	var ts = t.split(',');for(var r=0;r<ts.length;r++){
	s.opp = s.apl(s.opp, ts[r], ',', 2);}}}
	s.loadModule("Media");
	s.Media.autoTrack=true;
	s.Media.trackWhilePlaying=true;
	s.Media.trackVars="None";
	s.Media.trackEvents="None";

	//MVP1: only enable AudienceManager(AAM) on designagted countries, or regions;
	var isEnabledRegions = (_satellite.getVar('aam:regionFlag') !=="") ? true : false;
	var isEnabledCountries = (_satellite.getVar('aam:countryFlag') !=="") ? true : false; 
	var aamIdSyncDisable = (_satellite.getVar('aam:IdSyncDisable') === "false") ? false : true;
	var intContainerNSID = (_satellite.getVar('aam:containerNSID') !=="") ? _satellite.getVar('aam:containerNSID') : "";
	
	var nsid ="";
	var countryCode = _satellite.getVar('content:countryCode');	
	if ((typeof intContainerNSID !== "undefined" && intContainerNSID !== "") ){
		for(var key in intContainerNSID){				
			if(countryCode.toLowerCase().indexOf(key) > -1){
				nsid = intContainerNSID[key];				
				break;				  
			}
		}
	}
	nsid = parseInt(nsid);
	if(isEnabledRegions || isEnabledCountries){
	  s.loadModule("AudienceManagement");
	  s.AudienceManagement.setup({
	    "partner":"fedex",
	    "containerNSID":nsid,
	    "disableDefaultRequest": true,
	    "disableScriptAttachment": true,
	    "disableDestinationPublishingIframe": aamIdSyncDisable  //value is false
	  });  

	}


	/************************** DFA VARIABLES **************************/
	/* @TODO: Fill in these variables with the settings mapped in the 
	 * DFA wizard and that match your desired preferences. Some of the 
	 * variables are optional and have been labeled as such below. 
	 * @TODO: Comments should be removed in a production deployment. */
	var dfaConfig = {
		CSID:               '', // DFA Client Site ID
		SPOTID:             '4191263', // DFA Spotlight ID
		tEvar:              'eVar62', // Transfer variable, typically the "View Through" eVar.
		errorEvar:          'eVar63', // DFA error tracking (optional)
		timeoutEvent:       'event81', // Tracks timeouts/empty responses (optional)
		requestURL:         "http://fls.doubleclick.net/json?spot=[SPOTID]&src=[CSID]&var=[VAR]&host=integrate.112.2o7.net%2Fdfa_echo%3Fvar%3D[VAR]%26AQE%3D1%26A2S%3D1&ord=[RAND]", // the DFA request URL
		maxDelay:           "750", // The maximum time to wait for DFA servers to respond, in milliseconds.
		visitCookie:        "s_dfa", // The name of the visitor cookie to use to restrict DFA calls to once per visit.
		clickThroughParam:  "CID", // A query string paramter that will force the DFA call to occur.
		searchCenterParam:  undefined, // SearchCenter identifier.
		newRsidsProp:       undefined //"prop34" // Stores the new report suites that need the DFA tracking code. (optional)
	};
	/************************ END DFA Variables ************************/

	/* Configure Modules and Plugins */
	//s.maxDelay='3000'; //max time to wait for 3rd party api response in milliseconds
	s.maxDelay = dfaConfig.maxDelay; //Jan16: updated for DFA connector for AA.
	s.loadModule("Integrate");
	s.Integrate.onLoad=function(s,m){
		s.socialAuthors();
		//add other integration module dependent functions here
		//Jan16: DFA connector for AA

		var dfaCheck = s.partnerDFACheck(dfaConfig);
		if (dfaCheck) {
			s.Integrate.add("DFA");
			s.Integrate.DFA.tEvar=dfaConfig.tEvar;
			s.Integrate.DFA.errorEvar=dfaConfig.errorEvar;
			s.Integrate.DFA.timeoutEvent=dfaConfig.timeoutEvent;
			s.Integrate.DFA.CSID=dfaConfig.CSID;
			s.Integrate.DFA.SPOTID=dfaConfig.SPOTID;
			s.Integrate.DFA.get(dfaConfig.requestURL);
			s.Integrate.DFA.setVars=function(s,p) {
				if (window[p.VAR]) { // got a response
					if(!p.ec) { // no errors
						s[p.tEvar]="DFA-"+(p.lis?p.lis:0)+"-"+(p.lip?p.lip:0)+"-"+(p.lastimp?p.lastimp:0)+"-"+(p.lastimptime?p.lastimptime:0)+"-"+(p.lcs?p.lcs:0)+"-"+(p.lcp?p.lcp:0)+"-"+(p.lastclk?p.lastclk:0)+"-"+(p.lastclktime?p.lastclktime:0)
					} else if (p.errorEvar) { // got an error response, track
						s[p.errorEvar] = p.ec;
					}
				} else if (p.timeoutEvent) { // empty response or timeout
					s.events = ((!s.events || s.events == '') ? '' : (s.events + ',')) + p.timeoutEvent; // timeout event
				}
			}
		}		

	};
};

/* updated 04/20/17 with AppMeasurement 1.8 - AppMeasurement_Module_Media*/
function AppMeasurement_Module_Media(q){var b=this;b.s=q;q=window;q.s_c_in||(q.s_c_il=[],q.s_c_in=0);b._il=q.s_c_il;b._in=q.s_c_in;b._il[b._in]=b;q.s_c_in++;b._c="s_m";b.list=[];b.open=function(d,c,e,k){var f={},a=new Date,l="",g;c||(c=-1);if(d&&e){b.list||(b.list={});b.list[d]&&b.close(d);k&&k.id&&(l=k.id);if(l)for(g in b.list)!Object.prototype[g]&&b.list[g]&&b.list[g].R==l&&b.close(b.list[g].name);f.name=d;f.length=c;f.offset=0;f.e=0;f.playerName=b.playerName?b.playerName:e;f.R=l;f.C=0;f.a=0;f.timestamp=
Math.floor(a.getTime()/1E3);f.k=0;f.u=f.timestamp;f.c=-1;f.n="";f.g=-1;f.D=0;f.I={};f.G=0;f.m=0;f.f="";f.B=0;f.L=0;f.A=0;f.F=0;f.l=!1;f.v="";f.J="";f.K=0;f.r=!1;f.H="";f.complete=0;f.Q=0;f.p=0;f.q=0;b.list[d]=f}};b.openAd=function(d,c,e,k,f,a,l,g){var h={};b.open(d,c,e,g);if(h=b.list[d])h.l=!0,h.v=k,h.J=f,h.K=a,h.H=l};b.M=function(d){var c=b.list[d];b.list[d]=0;c&&c.monitor&&clearTimeout(c.monitor.interval)};b.close=function(d){b.i(d,0,-1)};b.play=function(d,c,e,k){var f=b.i(d,1,c,e,k);f&&!f.monitor&&
(f.monitor={},f.monitor.update=function(){1==f.k&&b.i(f.name,3,-1);f.monitor.interval=setTimeout(f.monitor.update,1E3)},f.monitor.update())};b.click=function(d,c){b.i(d,7,c)};b.complete=function(d,c){b.i(d,5,c)};b.stop=function(d,c){b.i(d,2,c)};b.track=function(d){b.i(d,4,-1)};b.P=function(d,c){var e="a.media.",k=d.linkTrackVars,f=d.linkTrackEvents,a="m_i",l,g=d.contextData,h;c.l&&(e+="ad.",c.v&&(g["a.media.name"]=c.v,g[e+"pod"]=c.J,g[e+"podPosition"]=c.K),c.G||(g[e+"CPM"]=c.H));c.r&&(g[e+"clicked"]=
!0,c.r=!1);g["a.contentType"]="video"+(c.l?"Ad":"");g["a.media.channel"]=b.channel;g[e+"name"]=c.name;g[e+"playerName"]=c.playerName;0<c.length&&(g[e+"length"]=c.length);g[e+"timePlayed"]=Math.floor(c.a);0<Math.floor(c.a)&&(g[e+"timePlayed"]=Math.floor(c.a));c.G||(g[e+"view"]=!0,a="m_s",b.Heartbeat&&b.Heartbeat.enabled&&(a=c.l?b.__primetime?"mspa_s":"msa_s":b.__primetime?"msp_s":"ms_s"),c.G=1);c.f&&(g[e+"segmentNum"]=c.m,g[e+"segment"]=c.f,0<c.B&&(g[e+"segmentLength"]=c.B),c.A&&0<c.a&&(g[e+"segmentView"]=
!0));!c.Q&&c.complete&&(g[e+"complete"]=!0,c.S=1);0<c.p&&(g[e+"milestone"]=c.p);0<c.q&&(g[e+"offsetMilestone"]=c.q);if(k)for(h in g)Object.prototype[h]||(k+=",contextData."+h);l=g["a.contentType"];d.pe=a;d.pev3=l;var q,s;if(b.contextDataMapping)for(h in d.events2||(d.events2=""),k&&(k+=",events"),b.contextDataMapping)if(!Object.prototype[h]){a=h.length>e.length&&h.substring(0,e.length)==e?h.substring(e.length):"";l=b.contextDataMapping[h];if("string"==typeof l)for(q=l.split(","),s=0;s<q.length;s++)l=
q[s],"a.contentType"==h?(k&&(k+=","+l),d[l]=g[h]):"view"==a||"segmentView"==a||"clicked"==a||"complete"==a||"timePlayed"==a||"CPM"==a?(f&&(f+=","+l),"timePlayed"==a||"CPM"==a?g[h]&&(d.events2+=(d.events2?",":"")+l+"="+g[h]):g[h]&&(d.events2+=(d.events2?",":"")+l)):"segment"==a&&g[h+"Num"]?(k&&(k+=","+l),d[l]=g[h+"Num"]+":"+g[h]):(k&&(k+=","+l),d[l]=g[h]);else if("milestones"==a||"offsetMilestones"==a)h=h.substring(0,h.length-1),g[h]&&b.contextDataMapping[h+"s"][g[h]]&&(f&&(f+=","+b.contextDataMapping[h+
"s"][g[h]]),d.events2+=(d.events2?",":"")+b.contextDataMapping[h+"s"][g[h]]);g[h]&&(g[h]=0);"segment"==a&&g[h+"Num"]&&(g[h+"Num"]=0)}d.linkTrackVars=k;d.linkTrackEvents=f};b.i=function(d,c,e,k,f){var a={},l=(new Date).getTime()/1E3,g,h,q=b.trackVars,s=b.trackEvents,t=b.trackSeconds,u=b.trackMilestones,v=b.trackOffsetMilestones,w=b.segmentByMilestones,x=b.segmentByOffsetMilestones,p,n,r=1,m={},y;b.channel||(b.channel=b.s.w.location.hostname);if(a=d&&b.list&&b.list[d]?b.list[d]:0)if(a.l&&(t=b.adTrackSeconds,
u=b.adTrackMilestones,v=b.adTrackOffsetMilestones,w=b.adSegmentByMilestones,x=b.adSegmentByOffsetMilestones),0>e&&(e=1==a.k&&0<a.u?l-a.u+a.c:a.c),0<a.length&&(e=e<a.length?e:a.length),0>e&&(e=0),a.offset=e,0<a.length&&(a.e=a.offset/a.length*100,a.e=100<a.e?100:a.e),0>a.c&&(a.c=e),y=a.D,m.name=d,m.ad=a.l,m.length=a.length,m.openTime=new Date,m.openTime.setTime(1E3*a.timestamp),m.offset=a.offset,m.percent=a.e,m.playerName=a.playerName,m.mediaEvent=0>a.g?"OPEN":1==c?"PLAY":2==c?"STOP":3==c?"MONITOR":
4==c?"TRACK":5==c?"COMPLETE":7==c?"CLICK":"CLOSE",2<c||c!=a.k&&(2!=c||1==a.k)){f||(k=a.m,f=a.f);if(c){1==c&&(a.c=e);if((3>=c||5<=c)&&0<=a.g&&(r=!1,q=s="None",a.g!=e)){h=a.g;h>e&&(h=a.c,h>e&&(h=e));p=u?u.split(","):0;if(0<a.length&&p&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h/a.length*100<g&&a.e>=g&&(r=!0,n=p.length,m.mediaEvent="MILESTONE",a.p=m.milestone=g);if((p=v?v.split(","):0)&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h<g&&e>=g&&(r=!0,n=p.length,m.mediaEvent=
"OFFSET_MILESTONE",a.q=m.offsetMilestone=g)}if(a.L||!f){if(w&&u&&0<a.length){if(p=u.split(","))for(p.push("100"),n=h=0;n<p.length;n++)if(g=p[n]?parseFloat(""+p[n]):0)a.e<g&&(k=n+1,f="M:"+h+"-"+g,n=p.length),h=g}else if(x&&v&&(p=v.split(",")))for(p.push(""+(0<a.length?a.length:"E")),n=h=0;n<p.length;n++)if((g=p[n]?parseFloat(""+p[n]):0)||"E"==p[n]){if(e<g||"E"==p[n])k=n+1,f="O:"+h+"-"+g,n=p.length;h=g}f&&(a.L=!0)}(f||a.f)&&f!=a.f&&(a.F=!0,a.f||(a.m=k,a.f=f),0<=a.g&&(r=!0));(2<=c||100<=a.e)&&a.c<e&&
(a.C+=e-a.c,a.a+=e-a.c);if(2>=c||3==c&&!a.k)a.n+=(1==c||3==c?"S":"E")+Math.floor(e),a.k=3==c?1:c;!r&&0<=a.g&&3>=c&&(t=t?t:0)&&a.a>=t&&(r=!0,m.mediaEvent="SECONDS");a.u=l;a.c=e}if(!c||3>=c&&100<=a.e)2!=a.k&&(a.n+="E"+Math.floor(e)),c=0,q=s="None",m.mediaEvent="CLOSE";7==c&&(r=m.clicked=a.r=!0);if(5==c||b.completeByCloseOffset&&(!c||100<=a.e)&&0<a.length&&e>=a.length-b.completeCloseOffsetThreshold)r=m.complete=a.complete=!0;l=m.mediaEvent;"MILESTONE"==l?l+="_"+m.milestone:"OFFSET_MILESTONE"==l&&(l+=
"_"+m.offsetMilestone);a.I[l]?m.eventFirstTime=!1:(m.eventFirstTime=!0,a.I[l]=1);m.event=m.mediaEvent;m.timePlayed=a.C;m.segmentNum=a.m;m.segment=a.f;m.segmentLength=a.B;b.monitor&&4!=c&&b.monitor(b.s,m);b.Heartbeat&&b.Heartbeat.enabled&&0<=a.g&&(r=!1);0==c&&b.M(d);r&&a.D==y&&(d={contextData:{}},d.linkTrackVars=q,d.linkTrackEvents=s,d.linkTrackVars||(d.linkTrackVars=""),d.linkTrackEvents||(d.linkTrackEvents=""),b.P(d,a),d.linkTrackVars||(d["!linkTrackVars"]=1),d.linkTrackEvents||(d["!linkTrackEvents"]=
1),b.s.track(d),a.F?(a.m=k,a.f=f,a.A=!0,a.F=!1):0<a.a&&(a.A=!1),a.n="",a.p=a.q=0,a.a-=Math.floor(a.a),a.g=e,a.D++)}return a};b.O=function(d,c,e,k,f){var a=0;if(d&&(!b.autoTrackMediaLengthRequired||c&&0<c)){if(b.list&&b.list[d])a=1;else if(1==e||3==e)b.open(d,c,"HTML5 Video",f),a=1;a&&b.i(d,e,k,-1,0)}};b.attach=function(d){var c,e,k;d&&d.tagName&&"VIDEO"==d.tagName.toUpperCase()&&(b.o||(b.o=function(c,a,d){var e,h;b.autoTrack&&(e=c.currentSrc,(h=c.duration)||(h=-1),0>d&&(d=c.currentTime),b.O(e,h,a,
d,c))}),c=function(){b.o(d,1,-1)},e=function(){b.o(d,1,-1)},b.j(d,"play",c),b.j(d,"pause",e),b.j(d,"seeking",e),b.j(d,"seeked",c),b.j(d,"ended",function(){b.o(d,0,-1)}),b.j(d,"timeupdate",c),k=function(){d.paused||d.ended||d.seeking||b.o(d,3,-1);setTimeout(k,1E3)},k())};b.j=function(b,c,e){b.attachEvent?b.attachEvent("on"+c,e):b.addEventListener&&b.addEventListener(c,e,!1)};void 0==b.completeByCloseOffset&&(b.completeByCloseOffset=1);void 0==b.completeCloseOffsetThreshold&&(b.completeCloseOffsetThreshold=
1);b.Heartbeat={};b.N=function(){var d,c;if(b.autoTrack&&(d=b.s.d.getElementsByTagName("VIDEO")))for(c=0;c<d.length;c++)b.attach(d[c])};b.j(q,"load",b.N)}


/* updated 04/20/17 with AppMeasurement 1.8 - Module: Integrate - Required for Genesis Integrations, uncommented by Adobe Derek for social plugin */
function AppMeasurement_Module_Integrate(l){var c=this;c.s=l;var e=window;e.s_c_in||(e.s_c_il=[],e.s_c_in=0);c._il=e.s_c_il;c._in=e.s_c_in;c._il[c._in]=c;e.s_c_in++;c._c="s_m";c.list=[];c.add=function(d,b){var a;b||(b="s_Integrate_"+d);e[b]||(e[b]={});a=c[d]=e[b];a.a=d;a.e=c;a._c=0;a._d=0;void 0==a.disable&&(a.disable=0);a.get=function(b,d){var f=document,h=f.getElementsByTagName("HEAD"),k;if(!a.disable&&(d||(v="s_"+c._in+"_Integrate_"+a.a+"_get_"+a._c),a._c++,a.VAR=v,a.CALLBACK="s_c_il["+c._in+"]."+
a.a+".callback",a.delay(),h=h&&0<h.length?h[0]:f.body))try{k=f.createElement("SCRIPT"),k.type="text/javascript",k.setAttribute("async","async"),k.src=c.c(a,b),0>b.indexOf("[CALLBACK]")&&(k.onload=k.onreadystatechange=function(){a.callback(e[v])}),h.firstChild?h.insertBefore(k,h.firstChild):h.appendChild(k)}catch(l){}};a.callback=function(b){var c;if(b)for(c in b)Object.prototype[c]||(a[c]=b[c]);a.ready()};a.beacon=function(b){var d="s_i_"+c._in+"_Integrate_"+a.a+"_"+a._c;a.disable||(a._c++,d=e[d]=
new Image,d.src=c.c(a,b))};a.script=function(b){a.get(b,1)};a.delay=function(){a._d++};a.ready=function(){a._d--;a.disable||l.delayReady()};c.list.push(d)};c._g=function(d){var b,a=(d?"use":"set")+"Vars";for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&b[a])try{b[a](l,b)}catch(e){}};c._t=function(){c._g(1)};c._d=function(){var d,b;for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&0<b._d)return 1;return 0};c.c=function(c,b){var a,e,g,f;"http"!=b.toLowerCase().substring(0,4)&&
(b="http://"+b);l.ssl&&(b=l.replace(b,"http:","https:"));c.RAND=Math.floor(1E13*Math.random());for(a=0;0<=a;)a=b.indexOf("[",a),0<=a&&(e=b.indexOf("]",a),e>a&&(g=b.substring(a+1,e),2<g.length&&"s."==g.substring(0,2)?(f=l[g.substring(2)])||(f=""):(f=""+c[g],f!=c[g]&&parseFloat(f)!=c[g]&&(g=0)),g&&(b=b.substring(0,a)+encodeURIComponent(f)+b.substring(e+1)),a=e));return b}}


// updated 04/20/17 with AppMeasurement 1.8 / AppMeasurement_Module_AudienceManagement
function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableScriptAttachment=!0,c.disableCORS=!0,c.secureDataCollection=!1,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?
a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&a.instance.api.passData(b)}}
"function"!==typeof window.DIL&&(window.DIL=function(a,c){var e=[],d,g;a!==Object(a)&&(a={});var h,l,t,v,p,n,w,E,r,A,L,B,C,F;h=a.partner;l=a.containerNSID;t=!!a.disableDestinationPublishingIframe;v=a.iframeAkamaiHTTPS;p=a.mappings;n=a.uuidCookie;w=!0===a.enableErrorReporting;E=a.visitorService;r=a.declaredId;A=!0===a.removeFinishedScriptsAndCallbacks;L=!0===a.delayAllUntilWindowLoad;B=!0===a.disableIDSyncs;C="undefined"===typeof a.secureDataCollection||!0===a.secureDataCollection;F=!0===a.useCORSOnly;
var M,N,I,G,O,P,Q,R;M=!0===a.disableScriptAttachment;N=!0===a.disableDefaultRequest;I=a.afterResultForDefaultRequest;G=a.dpIframeSrc;O=!0===a.testCORS;P=!0===a.useJSONPOnly;Q=a.visitorConstructor;R=!0===a.disableCORS;w&&DIL.errorModule.activate();var T=!0===window._dil_unit_tests;(d=c)&&e.push(d+"");if(!h||"string"!==typeof h)return d="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:d,filename:"dil.js"}),Error(d);d="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";
if(l||"number"===typeof l)l=parseInt(l,10),!isNaN(l)&&0<=l&&(d="");d&&(l=0,e.push(d),d="");g=DIL.getDil(h,l);if(g instanceof DIL&&g.api.getPartner()===h&&g.api.getContainerNSID()===l)return g;if(this instanceof DIL)DIL.registerDil(this,h,l);else return new DIL(a,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+h+" and containerNSID = "+l);var y={IS_HTTPS:C||"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC",
MILLIS_PER_DAY:864E5,DIL_COOKIE_NAME:"AAMC_"+encodeURIComponent(h)+"_"+l,FIRST_PARTY_SYNCS:"AMSYNCS",FIRST_PARTY_SYNCS_ON_PAGE:"AMSYNCSOP"},J={stuffed:{}},s={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],
num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:l+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(b){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=
!0;var k=this,m,f,a,d;if("function"===typeof b&&"function"===typeof b.getInstance){if(E===Object(E)&&(m=E.namespace)&&"string"===typeof m)f=b.getInstance(m,{idSyncContainerID:l});else{this.releaseType="no namespace";this.releaseRequests();return}if(f===Object(f)&&f instanceof b&&"function"===typeof f.isAllowed&&"function"===typeof f.getMarketingCloudVisitorID&&"function"===typeof f.getCustomerIDs&&"function"===typeof f.isOptedOut){this.VisitorAPI=b;if(!f.isAllowed()){this.releaseType="VisitorAPI not allowed";
this.releaseRequests();return}this.instance=f;a=function(b){"VisitorAPI"!==k.releaseType&&(k.mid=b,k.releaseType="VisitorAPI",k.releaseRequests())};d=f.getMarketingCloudVisitorID(a);if("string"===typeof d&&d.length){a(d);return}setTimeout(function(){"VisitorAPI"!==k.releaseType&&(k.releaseType="timeout",k.releaseRequests())},this.getLoadTimeout());return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(e){this.releaseRequests()}},releaseRequests:function(){this.calledBack=
!0;q.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var b=x.isPopulatedString,k=this.getMarketingCloudVisitorID();b(this.mid)&&this.mid===k||(this.mid=k);return b(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(b){if(b===Object(b)){var k="",m=[],f=[],a,d;for(a in b)b.hasOwnProperty(a)&&
(f[0]=a,d=b[a],d===Object(d)&&(f[1]=d.id||"",f[2]=d.authState||0,m.push(f),f=[]));if(f=m.length)for(b=0;b<f;b++)k+="&d_cid_ic="+u.encodeAndBuildRequest(m[b],"%01");return k}return""},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(b){this.isOptedOut=b;this.isOptedOutCallbackCalled=!0;q.registerRequest()},getLoadTimeout:function(){var b=
this.instance;if(b){if("function"===typeof b.getLoadTimeout)return b.getLoadTimeout();if("undefined"!==typeof b.loadTimeout)return b.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(b,k){var m=x.isPopulatedString,f=encodeURIComponent;if(b===Object(b)&&m(k)){var a=b.dpid,d=b.dpuuid,e=null;if(m(a)&&m(d)){e=f(a)+"$"+f(d);if(!0===this.declaredIdCombos[e])return"setDeclaredId: combo exists for type '"+
k+"'";this.declaredIdCombos[e]=!0;this.declaredId[k]={dpid:a,dpuuid:d};return"setDeclaredId: succeeded for type '"+k+"'"}}return"setDeclaredId: failed for type '"+k+"'"},getDeclaredIdQueryString:function(){var b=this.declaredId.request,k=this.declaredId.init,m=encodeURIComponent,f="";null!==b?f="&d_dpid="+m(b.dpid)+"&d_dpuuid="+m(b.dpuuid):null!==k&&(f="&d_dpid="+m(k.dpid)+"&d_dpuuid="+m(k.dpuuid));return f}},registerRequest:function(b){var k=this.firingQueue;b===Object(b)&&k.push(b);this.firing||
!k.length||L&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(this.adms.isOptedOutCallbackCalled=!1,b=k.shift(),b.src=b.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid="),x.isPopulatedString(b.corsPostData)&&(b.corsPostData=b.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid=")),D.fireRequest(b),this.firstRequestHasFired||
"script"!==b.tag&&"cors"!==b.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(Q||window.Visitor)},requestRemoval:function(b){if(!A)return"removeFinishedScriptsAndCallbacks is not boolean true";var k=this.toRemove,m,f;b===Object(b)&&(m=b.script,f=b.callbackName,(m===Object(m)&&"SCRIPT"===m.nodeName||"no script created"===m)&&"string"===typeof f&&f.length&&k.push(b));if(this.readyToRemove&&k.length){f=k.shift();m=f.script;f=f.callbackName;"no script created"!==m?
(b=m.src,m.parentNode.removeChild(m)):b=m;window[f]=null;try{delete window[f]}catch(a){}this.removed.push({scriptSrc:b,callbackName:f});DIL.variables.scriptsRemoved.push(b);DIL.variables.callbacksRemoved.push(f);return this.requestRemoval()}return"requestRemoval() processed"}};g=function(){var b="http://fast.",k="?d_nsid="+l+"#"+encodeURIComponent(document.location.href);if("string"===typeof G&&G.length)return G+k;y.IS_HTTPS&&(b=!0===v?"https://fast.":"https://");return b+h+".demdex.net/dest5.html"+
k};var z={THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:"destination_publishing_iframe_"+h+"_"+l,url:g(),onPagePixels:[],iframeHost:null,getIframeHost:function(b){if("string"===typeof b){var k=b.split("/");if(3<=k.length)return k[0]+"//"+k[2];e.push("getIframeHost: url is malformed: "+b);return b}},iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:y.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonWaiting:[],jsonProcessed:[],
canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function b(){f=document.createElement("iframe");f.sandbox="allow-scripts allow-same-origin";f.title="Adobe ID Syncing iFrame";f.id=m.id;f.style.cssText="display: none; width: 0; height: 0;";f.src=m.url;m.newIframeCreated=!0;k();document.body.appendChild(f)}function k(){u.addListener(f,"load",function(){f.className="aamIframeLoaded";
m.iframeHasLoaded=!0;m.requestToProcess()})}var m=this,f=document.getElementById(this.id);f?"IFRAME"!==f.nodeName?(this.id+="_2",this.iframeIdChanged=!0,b()):(this.newIframeCreated=!1,"aamIframeLoaded"!==f.className?(this.originalIframeHasLoadedAlready=!1,k()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=f,this.requestToProcess())):b();this.iframe=f},requestToProcess:function(b,k){var m=this;b&&!x.isEmptyObject(b)&&this.jsonWaiting.push([b,k]);if((this.receivedThirdPartyCookiesNotification||
!y.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var f=this.jsonWaiting.shift();this.process(f[0],f[1]);this.requestToProcess()}this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){m.messageSendingInterval=y.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},processSyncOnPage:function(b){var k,m,f;if((k=b.ibs)&&k instanceof Array&&(m=k.length))for(b=
0;b<m;b++)f=k[b],f.syncOnPage&&this.checkFirstPartyCookie(f,"","syncOnPage")},process:function(b,k){var m=encodeURIComponent,f,a,d,e,c,h;k===Object(k)&&(h=u.encodeAndBuildRequest(["",k.dpid||"",k.dpuuid||""],","));if((f=b.dests)&&f instanceof Array&&(a=f.length))for(d=0;d<a;d++)e=f[d],c=[m("dests"),m(e.id||""),m(e.y||""),m(e.c||"")],this.addMessage(c.join("|"));if((f=b.ibs)&&f instanceof Array&&(a=f.length))for(d=0;d<a;d++)e=f[d],c=[m("ibs"),m(e.id||""),m(e.tag||""),u.encodeAndBuildRequest(e.url||
[],","),m(e.ttl||""),"",h,e.fireURLSync?"true":"false"],e.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(c.join("|")):e.fireURLSync&&this.checkFirstPartyCookie(e,c.join("|")));if((f=b.dpcalls)&&f instanceof Array&&(a=f.length))for(d=0;d<a;d++)e=f[d],c=e.callback||{},c=[c.obj||"",c.fn||"",c.key||"",c.tag||"",c.url||""],c=[m("dpm"),m(e.id||""),m(e.tag||""),u.encodeAndBuildRequest(e.url||[],","),m(e.ttl||""),u.encodeAndBuildRequest(c,","),h],this.addMessage(c.join("|"));this.jsonProcessed.push(b)},
checkFirstPartyCookie:function(b,k,a){var f=(a="syncOnPage"===a?!0:!1)?y.FIRST_PARTY_SYNCS_ON_PAGE:y.FIRST_PARTY_SYNCS,d=this.getOnPageSyncData(f),e=!1,c=!1,h=Math.ceil((new Date).getTime()/y.MILLIS_PER_DAY);d?(d=d.split("*"),c=this.pruneSyncData(d,b.id,h),e=c.dataPresent,c=c.dataValid,e&&c||this.fireSync(a,b,k,d,f,h)):(d=[],this.fireSync(a,b,k,d,f,h))},getOnPageSyncData:function(b){var k=q.adms.instance;return k&&"function"===typeof k.idSyncGetOnPageSyncInfo?k.idSyncGetOnPageSyncInfo():u.getDilCookieField(b)},
pruneSyncData:function(b,k,a){var f=!1,d=!1,e,c,h;if(b instanceof Array)for(c=0;c<b.length;c++)e=b[c],h=parseInt(e.split("-")[1],10),e.match("^"+k+"-")?(f=!0,a<h?d=!0:(b.splice(c,1),c--)):a>=h&&(b.splice(c,1),c--);return{dataPresent:f,dataValid:d}},manageSyncsSize:function(b){if(b.join("*").length>this.MAX_SYNCS_LENGTH)for(b.sort(function(b,a){return parseInt(b.split("-")[1],10)-parseInt(a.split("-")[1],10)});b.join("*").length>this.MAX_SYNCS_LENGTH;)b.shift()},fireSync:function(b,k,a,f,d,e){function c(b,
k,a,f){return function(){h.onPagePixels[b]=null;var m=h.getOnPageSyncData(a),d=[];if(m){var m=m.split("*"),e,c,g;e=0;for(c=m.length;e<c;e++)g=m[e],g.match("^"+k.id+"-")||d.push(g)}h.setSyncTrackingData(d,k,a,f)}}var h=this;if(b){if("img"===k.tag){b=k.url;a=y.IS_HTTPS?"https:":"http:";var g,l,n;f=0;for(g=b.length;f<g;f++){l=b[f];n=/^\/\//.test(l);var r=new Image;u.addListener(r,"load",c(this.onPagePixels.length,k,d,e));r.src=(n?a:"")+l;this.onPagePixels.push(r)}}}else this.addMessage(a),this.setSyncTrackingData(f,
k,d,e)},addMessage:function(b){var k=encodeURIComponent,k=w?k("---destpub-debug---"):k("---destpub---");this.messages.push(k+b)},setSyncTrackingData:function(b,k,a,f){b.push(k.id+"-"+(f+Math.ceil(k.ttl/60/24)));this.manageSyncsSize(b);u.setDilCookieField(a,b.join("*"))},sendMessages:function(){var b=this,k;this.messages.length?(k=this.messages.shift(),DIL.xd.postMessage(k,this.url,this.iframe.contentWindow),this.messagesPosted.push(k),setTimeout(function(){b.sendMessages()},this.messageSendingInterval)):
this.sendingMessages=!1},receiveMessage:function(b){var k=/^---destpub-to-parent---/;"string"===typeof b&&k.test(b)&&(k=b.replace(k,"").split("|"),"canSetThirdPartyCookies"===k[0]&&(this.canSetThirdPartyCookies="true"===k[1]?!0:!1,this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(b))}},K={traits:function(b){x.isValidPdata(b)&&(s.sids instanceof Array||(s.sids=[]),u.extendArray(s.sids,b));return this},pixels:function(b){x.isValidPdata(b)&&(s.pdata instanceof
Array||(s.pdata=[]),u.extendArray(s.pdata,b));return this},logs:function(b){x.isValidLogdata(b)&&(s.logdata!==Object(s.logdata)&&(s.logdata={}),u.extendObject(s.logdata,b));return this},customQueryParams:function(b){x.isEmptyObject(b)||u.extendObject(s,b,q.reservedKeys);return this},signals:function(b,k){var a,f=b;if(!x.isEmptyObject(f)){if(k&&"string"===typeof k)for(a in f={},b)b.hasOwnProperty(a)&&(f[k+a]=b[a]);u.extendObject(s,f,q.reservedKeys)}return this},declaredId:function(b){q.declaredId.setDeclaredId(b,
"request");return this},result:function(b){"function"===typeof b&&(s.callback=b);return this},afterResult:function(b){"function"===typeof b&&(s.postCallbackFn=b);return this},useImageRequest:function(){s.useImageRequest=!0;return this},clearData:function(){s={};return this},submit:function(){D.submitRequest(s);s={};return this},getPartner:function(){return h},getContainerNSID:function(){return l},getEventLog:function(){return e},getState:function(){var b={},k={};u.extendObject(b,q,{callbackPrefix:!0,
useJSONP:!0,registerRequest:!0});u.extendObject(k,z,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{initConfig:a,pendingRequest:s,otherRequestInfo:b,destinationPublishingInfo:k}},idSync:function(b){if(B)return"Error: id syncs have been disabled";if(b!==Object(b)||"string"!==typeof b.dpid||!b.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof b.url||!b.url.length)return"Error: config.url is empty";var k=b.url,a=b.minutesToLive,f=encodeURIComponent,
d,k=k.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof a)a=20160;else if(a=parseInt(a,10),isNaN(a)||0>=a)return"Error: config.minutesToLive needs to be a positive number";d=u.encodeAndBuildRequest(["",b.dpid,b.dpuuid||""],",");b=["ibs",f(b.dpid),"img",f(k),a,"",d];z.addMessage(b.join("|"));q.firstRequestHasFired&&z.requestToProcess();return"Successfully queued"},aamIdSync:function(b){if(B)return"Error: id syncs have been disabled";if(b!==Object(b)||"string"!==typeof b.dpuuid||!b.dpuuid.length)return"Error: config or config.dpuuid is empty";
b.url="//dpm.demdex.net/ibs:dpid="+b.dpid+"&dpuuid="+b.dpuuid;return this.idSync(b)},passData:function(b){if(x.isEmptyObject(b))return"Error: json is empty or not an object";z.ibsDeleted.push(b.ibs);delete b.ibs;D.defaultCallback(b);return b},getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:function(){var b=q,k=b.modStatsParams,a=b.platformParams,f;if(!k){k={};for(f in a)a.hasOwnProperty(f)&&!b.nonModStatsParams[f]&&(k[f.replace(/^d_/,"")]=a[f]);b.modStatsParams=k}return k}},
D={corsMetadata:function(){var b="none",a=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?b="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?b="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(a=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(a=!1));return{corsType:b,corsCookiesEnabled:a}}(),getCORSInstance:function(){return"none"===
this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(b){q.registerRequest(D.createQueuedRequest(b));return!0},createQueuedRequest:function(b){var a=q,d,f=b.callback,e="img",c;if(!x.isEmptyObject(p)){var h,g,n;for(h in p)p.hasOwnProperty(h)&&(g=p[h],null!=g&&""!==g&&h in b&&!(g in b||g in q.reservedKeys)&&(n=b[h],null!=n&&""!==n&&(b[g]=n)))}x.isValidPdata(b.sids)||(b.sids=[]);x.isValidPdata(b.pdata)||(b.pdata=[]);x.isValidLogdata(b.logdata)||(b.logdata={});
b.logdataArray=u.convertObjectToKeyValuePairs(b.logdata,"=",!0);b.logdataArray.push("_ts="+(new Date).getTime());"function"!==typeof f&&(f=this.defaultCallback);a.useJSONP=!0!==b.useImageRequest;a.useJSONP&&(e="script",d=a.callbackPrefix+"_"+l+"_"+(new Date).getTime());a=this.makeRequestSrcData(b,d);P&&!F||!(c=this.getCORSInstance())||(e="cors");return{tag:e,src:a.src,corsSrc:a.corsSrc,internalCallbackName:d,callbackFn:f,postCallbackFn:b.postCallbackFn,useImageRequest:!!b.useImageRequest,requestData:b,
corsInstance:c,corsPostData:a.corsPostData}},defaultCallback:function(b,a){z.processSyncOnPage(b);var d,f,e,c,h,g,l,r,w;if((d=b.stuff)&&d instanceof Array&&(f=d.length))for(e=0;e<f;e++)if((c=d[e])&&c===Object(c)){h=c.cn;g=c.cv;l=c.ttl;if("undefined"===typeof l||""===l)l=Math.floor(u.getMaxCookieExpiresInMinutes()/60/24);r=c.dmn||"."+document.domain.replace(/^www\./,"");w=c.type;h&&(g||"number"===typeof g)&&("var"!==w&&(l=parseInt(l,10))&&!isNaN(l)&&u.setCookie(h,g,1440*l,"/",r,!1),J.stuffed[h]=g)}d=
b.uuid;x.isPopulatedString(d)&&!x.isEmptyObject(n)&&(f=n.path,"string"===typeof f&&f.length||(f="/"),e=parseInt(n.days,10),isNaN(e)&&(e=100),u.setCookie(n.name||"aam_did",d,1440*e,f,n.domain||"."+document.domain.replace(/^www\./,""),!0===n.secure));t||q.abortRequests||z.requestToProcess(b,a)},makeRequestSrcData:function(b,a){b.sids=x.removeEmptyArrayValues(b.sids||[]);b.pdata=x.removeEmptyArrayValues(b.pdata||[]);var d=q,f=d.platformParams,e=u.encodeAndBuildRequest(b.sids,","),c=u.encodeAndBuildRequest(b.pdata,
","),g=(b.logdataArray||[]).join("&");delete b.logdataArray;var n=y.IS_HTTPS?"https://":"http://",r=d.declaredId.getDeclaredIdQueryString(),w=d.adms.instance?d.adms.getCustomerIDsQueryString(d.adms.getCustomerIDs()):"",p;p=[];var s,t,v,A;for(s in b)if(!(s in d.reservedKeys)&&b.hasOwnProperty(s))if(t=b[s],s=encodeURIComponent(s),t instanceof Array)for(v=0,A=t.length;v<A;v++)p.push(s+"="+encodeURIComponent(t[v]));else p.push(s+"="+encodeURIComponent(t));p=p.length?"&"+p.join("&"):"";e="d_nsid="+f.d_nsid+
r+w+(e.length?"&d_sid="+e:"")+(c.length?"&d_px="+c:"")+(g.length?"&d_ld="+encodeURIComponent(g):"");f="&d_rtbd="+f.d_rtbd+"&d_jsonv="+f.d_jsonv+"&d_dst="+f.d_dst;n=n+h+".demdex.net/event";c=d=n+"?"+e+(d.useJSONP?f+"&d_cb="+(a||""):"")+p;2048<d.length&&(d=d.substring(0,2048).substring(0,d.lastIndexOf("&")));return{corsSrc:n+"?"+(O?"testcors=1&d_nsid="+l+"&":"")+"_ts="+(new Date).getTime(),src:d,originalSrc:c,corsPostData:e+f+p,isDeclaredIdCall:""!==r}},fireRequest:function(b){if("img"===b.tag)this.fireImage(b);
else{var a=q.declaredId,a=a.declaredId.request||a.declaredId.init||{},a={dpid:a.dpid||"",dpuuid:a.dpuuid||""};"script"===b.tag?this.fireScript(b,a):"cors"===b.tag&&this.fireCORS(b,a)}},fireImage:function(b){var a=q,c,f;a.abortRequests||(a.firing=!0,c=new Image(0,0),a.sent.push(b),c.onload=function(){a.firing=!1;a.fired.push(b);a.num_of_img_responses++;a.registerRequest()},f=function(f){d="imgAbortOrErrorHandler received the event of type "+f.type;e.push(d);a.abortRequests=!0;a.firing=!1;a.errored.push(b);
a.num_of_img_errors++;a.registerRequest()},c.addEventListener?(c.addEventListener("error",f,!1),c.addEventListener("abort",f,!1)):c.attachEvent&&(c.attachEvent("onerror",f),c.attachEvent("onabort",f)),c.src=b.src)},fireScript:function(b,a){var c=this,f=q,g,l,n=b.src,r=b.postCallbackFn,w="function"===typeof r,p=b.internalCallbackName;f.abortRequests||(f.firing=!0,window[p]=function(c){try{c!==Object(c)&&(c={});B&&(z.ibsDeleted.push(c.ibs),delete c.ibs);var m=b.callbackFn;f.firing=!1;f.fired.push(b);
f.num_of_jsonp_responses++;m(c,a);w&&r(c,a)}catch(g){g.message="DIL jsonp callback caught error with message "+g.message;d=g.message;e.push(d);g.filename=g.filename||"dil.js";g.partner=h;DIL.errorModule.handleError(g);try{m({error:g.name+"|"+g.message},a),w&&r({error:g.name+"|"+g.message},a)}catch(n){}}finally{f.requestRemoval({script:l,callbackName:p}),f.registerRequest()}},M||F?(f.firing=!1,f.requestRemoval({script:"no script created",callbackName:p})):(l=document.createElement("script"),l.addEventListener&&
l.addEventListener("error",function(a){f.requestRemoval({script:l,callbackName:p});d="jsonp script tag error listener received the event of type "+a.type+" with src "+n;c.handleScriptError(d,b)},!1),l.type="text/javascript",l.src=n,g=DIL.variables.scriptNodeList[0],g.parentNode.insertBefore(l,g)),f.sent.push(b),f.declaredId.declaredId.request=null)},fireCORS:function(b,a){var c=this,f=q,g=this.corsMetadata.corsType,l=b.corsSrc,n=b.corsInstance,r=b.corsPostData,p=b.postCallbackFn,w="function"===typeof p;
if(!f.abortRequests&&!R){f.firing=!0;try{n.open("post",l,!0),"XMLHttpRequest"===g&&(n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var g;try{if(g=JSON.parse(this.responseText),g!==Object(g)){c.handleCORSError(b,a,"Response is not JSON");break a}}catch(l){c.handleCORSError(b,a,"Error parsing response as JSON");break a}B&&(z.ibsDeleted.push(g.ibs),delete g.ibs);try{var n=b.callbackFn;
f.firing=!1;f.fired.push(b);f.num_of_cors_responses++;n(g,a);w&&p(g,a)}catch(r){r.message="DIL handleCORSResponse caught error with message "+r.message;d=r.message;e.push(d);r.filename=r.filename||"dil.js";r.partner=h;DIL.errorModule.handleError(r);try{n({error:r.name+"|"+r.message},a),w&&p({error:r.name+"|"+r.message},a)}catch(V){}}finally{f.registerRequest()}}}),n.onerror=function(){c.handleCORSError(b,a,"onerror")},n.ontimeout=function(){c.handleCORSError(b,a,"ontimeout")},n.send(r)}catch(s){this.handleCORSError(b,
a,"try-catch")}f.sent.push(b);f.declaredId.declaredId.request=null}},handleCORSError:function(b,a,c){q.num_of_cors_errors++;q.corsErrorSources.push(c);"ontimeout"===c||F||(b.tag="script",this.fireScript(b,a))},handleScriptError:function(b,a){q.num_of_jsonp_errors++;this.handleRequestError(b,a)},handleRequestError:function(b,a){var c=q;e.push(b);c.abortRequests=!0;c.firing=!1;c.errored.push(a);c.registerRequest()}},x={isValidPdata:function(b){return b instanceof Array&&this.removeEmptyArrayValues(b).length?
!0:!1},isValidLogdata:function(b){return!this.isEmptyObject(b)},isEmptyObject:function(b){if(b!==Object(b))return!0;for(var a in b)if(b.hasOwnProperty(a))return!1;return!0},removeEmptyArrayValues:function(b){for(var a=0,c=b.length,f,d=[],a=0;a<c;a++)f=b[a],"undefined"!==typeof f&&null!==f&&""!==f&&d.push(f);return d},isPopulatedString:function(b){return"string"===typeof b&&b.length}},u={addListener:function(){if(document.addEventListener)return function(b,a,c){b.addEventListener(a,function(b){"function"===
typeof c&&c(b)},!1)};if(document.attachEvent)return function(b,a,c){b.attachEvent("on"+a,function(b){"function"===typeof c&&c(b)})}}(),convertObjectToKeyValuePairs:function(b,a,c){var f=[],d,e;a||(a="=");for(d in b)b.hasOwnProperty(d)&&(e=b[d],"undefined"!==typeof e&&null!==e&&""!==e&&f.push(d+a+(c?encodeURIComponent(e):e)));return f},encodeAndBuildRequest:function(b,a){return this.map(b,function(b){return encodeURIComponent(b)}).join(a)},map:function(b,a){if(Array.prototype.map)return b.map(a);if(void 0===
b||null===b)throw new TypeError;var c=Object(b),d=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var e=Array(d),g=0;g<d;g++)g in c&&(e[g]=a.call(a,c[g],g,c));return e},filter:function(b,a){if(!Array.prototype.filter){if(void 0===b||null===b)throw new TypeError;var c=Object(b),d=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var e=[],g=0;g<d;g++)if(g in c){var h=c[g];a.call(a,h,g,c)&&e.push(h)}return e}return b.filter(a)},getCookie:function(b){b+="=";var a=document.cookie.split(";"),
c,d,e;c=0;for(d=a.length;c<d;c++){for(e=a[c];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return null},setCookie:function(b,a,c,d,e,g){var h=new Date;c&&(c*=6E4);document.cookie=b+"="+encodeURIComponent(a)+(c?";expires="+(new Date(h.getTime()+c)).toUTCString():"")+(d?";path="+d:"")+(e?";domain="+e:"")+(g?";secure":"")},extendArray:function(b,a){return b instanceof Array&&a instanceof Array?(Array.prototype.push.apply(b,
a),!0):!1},extendObject:function(b,a,c){var d;if(b===Object(b)&&a===Object(a)){for(d in a)!a.hasOwnProperty(d)||!x.isEmptyObject(c)&&d in c||(b[d]=a[d]);return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(y.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60},getCookieField:function(b,a){var c=this.getCookie(b),d=decodeURIComponent;if("string"===typeof c){var c=c.split("|"),e,g;e=0;for(g=c.length-1;e<g;e++)if(d(c[e])===a)return d(c[e+1])}return null},getDilCookieField:function(b){return this.getCookieField(y.DIL_COOKIE_NAME,
b)},setCookieField:function(b,a,c){var d=this.getCookie(b),e=!1,g=encodeURIComponent;a=g(a);c=g(c);if("string"===typeof d){var d=d.split("|"),h,g=0;for(h=d.length-1;g<h;g++)if(d[g]===a){d[g+1]=c;e=!0;break}e||(g=d.length,d[g]=a,d[g+1]=c)}else d=[a,c];this.setCookie(b,d.join("|"),this.getMaxCookieExpiresInMinutes(),"/",this.getDomain(),!1)},setDilCookieField:function(b,a){return this.setCookieField(y.DIL_COOKIE_NAME,b,a)},getDomain:function(b){!b&&window.location&&(b=window.location.hostname);if(b)if(/^[0-9.]+$/.test(b))b=
"";else{var a=b.split("."),c=a.length-1,d=c-1;1<c&&2>=a[c].length&&(2===a[c-1].length||0>",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+a[c]+","))&&d--;if(0<d)for(b="";c>=d;)b=a[c]+(b?".":"")+b,c--}return b}};"error"===h&&0===l&&u.addListener(window,"load",function(){DIL.windowLoaded=!0});var S=!1,H=function(){S||(S=!0,q.registerRequest(),U(),t||q.abortRequests||z.attachIframe(),q.readyToRemove=!0,q.requestRemoval())},U=function(){t||setTimeout(function(){N||q.firstRequestHasFired||("function"===typeof I?
K.afterResult(I).submit():K.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};C=document;"error"!==h&&(DIL.windowLoaded?H():"complete"!==C.readyState&&"loaded"!==C.readyState?u.addListener(window,"load",function(){DIL.windowLoaded=!0;H()}):(DIL.windowLoaded=!0,H()));if("error"!==h)try{DIL.xd.receiveMessage(function(b){z.receiveMessage(b.data)},z.getIframeHost(z.url))}catch(W){}q.declaredId.setDeclaredId(r,"init");q.processVisitorAPI();this.api=K;this.getStuffedVariable=function(b){var a=J.stuffed[b];
a||"number"===typeof a||(a=u.getCookie(b))||"number"===typeof a||(a="");return a};this.validators=x;this.helpers=u;this.constants=y;this.log=e;T&&(this.pendingRequest=s,this.requestController=q,this.setDestinationPublishingUrl=g,this.destinationPublishing=z,this.requestProcs=D,this.variables=J,this.callWindowLoadFunctions=H)},function(){var a=document,c;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",c=function(){a.removeEventListener("DOMContentLoaded",
c,!1);a.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(a){var c;if(a===Object(a))for(c in a)a.hasOwnProperty(c)&&(this[c]=a[c])},DIL.extendStaticPropertiesAndMethods({version:"6.6",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(a){this.windowLoaded="function"===typeof a?!!a():"boolean"===typeof a?a:!0},create:function(a){try{return new DIL(a)}catch(c){return(new Image(0,
0)).src="http://error.demdex.net/event?d_nsid=0&d_px=14137&d_ld=name%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(a,c,e){c=c+"$"+e;c in this.dils||(this.dils[c]=a)},getDil:function(a,c){var e;"string"!==typeof a&&(a="");c||(c=0);e=a+"$"+c;return e in this.dils?this.dils[e]:
Error("The DIL instance with partner = "+a+" and containerNSID = "+c+" was not found")},dexGetQSVars:function(a,c,e){c=this.getDil(c,e);return c instanceof this?c.getStuffedVariable(a):""},xd:{postMessage:function(a,c,e){var d=1;c&&(window.postMessage?e.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(e.location=c.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},receiveMessage:function(a,c){var e;try{if(window.postMessage)if(a&&(e=function(d){if("string"===typeof c&&d.origin!==c||"[object Function]"===
Object.prototype.toString.call(c)&&!1===c(d.origin))return!1;a(d)}),window.addEventListener)window[a?"addEventListener":"removeEventListener"]("message",e,!1);else window[a?"attachEvent":"detachEvent"]("onmessage",e)}catch(d){}}}}),DIL.errorModule=function(){var a=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),c={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,
typeerror:15019,urierror:15020},e=!1;return{activate:function(){e=!0},handleError:function(d){if(!e)return"DIL error module has not been activated";d!==Object(d)&&(d={});var g=d.name?(d.name+"").toLowerCase():"",h=[];d={name:g,filename:d.filename?d.filename+"":"",partner:d.partner?d.partner+"":"no_partner",site:d.site?d.site+"":document.location.href,message:d.message?d.message+"":""};h.push(g in c?c[g]:c.noerrortypedefined);a.api.pixels(h).logs(d).useImageRequest().submit();return"DIL error report sent"},
pixelMap:c}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(a,c,e){var d="";c=c||"Error caught in DIL module/submodule: ";a===Object(a)?d=c+(a.message||"err has no message"):(d=c+"err is not a valid object",a={});a.message=d;e instanceof DIL&&(a.partner=e.api.getPartner());DIL.errorModule.handleError(a);return this.errorMessage=d}}});
DIL.tools.getSearchReferrer=function(a,c){var e=DIL.getDil("error"),d=DIL.tools.decomposeURI(a||document.referrer),g="",h="",l={queryParam:"q"};return(g=e.helpers.filter([c===Object(c)?c:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(a){return!(!a.hasOwnProperty("hostPattern")||!d.hostname.match(a.hostPattern))}).shift())?{valid:!0,name:d.hostname,keywords:(e.helpers.extendObject(l,g),h=l.queryPattern?
(g=(""+d.search).match(l.queryPattern))?g[1]:"":d.uriParams[l.queryParam],decodeURIComponent(h||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}};
DIL.tools.decomposeURI=function(a){var c=DIL.getDil("error"),e=document.createElement("a");e.href=a||document.referrer;return{hash:e.hash,host:e.host.split(":").shift(),hostname:e.hostname,href:e.href,pathname:e.pathname.replace(/^\//,""),protocol:e.protocol,search:e.search,uriParams:function(a,e){c.helpers.map(e.split("&"),function(c){c=c.split("=");a[c.shift()]=c.shift()});return a}({},e.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var a={},c=document.getElementsByTagName("meta"),e,d,g,h,l;e=0;for(g=arguments.length;e<g;e++)if(h=arguments[e],null!==h)for(d=0;d<c.length;d++)if(l=c[d],l.name===h){a[h]=l.content;break}return a};
DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e,d){try{var g=this,h={name:"DIL Site Catalyst Module Error"},l=function(a){h.message=a;DIL.errorModule.handleError(h);return a};this.options=d===Object(d)?d:{};this.dil=null;if(c instanceof DIL)this.dil=c;else return l("dilInstance is not a valid instance of DIL");h.partner=c.api.getPartner();if(a!==Object(a))return l("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=a.m_DIL=
function(a){var c="function"===typeof a.m_i?a.m_i("DIL"):this;if(c!==Object(c))return l("m is not an object");c.trackVars=g.constructTrackVars(e);c.d=0;c.s=a;c._t=function(){var a,c,d=","+this.trackVars+",",e=this.s,h,p=[];h=[];var t={},v=!1;if(e!==Object(e))return l("Error in m._t function: s is not an object");if(this.d){if("function"===typeof e.foreachVar)e.foreachVar(function(a,c){"undefined"!==typeof c&&(t[a]=c,v=!0)},this.trackVars);else{if(!(e.va_t instanceof Array))return l("Error in m._t function: s.va_t is not an array");
if(e.lightProfileID)(a=e.lightTrackVars)&&(a=","+a+","+e.vl_mr+",");else if(e.pe||e.linkType)a=e.linkTrackVars,e.pe&&(c=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[c]&&(a=e[c].trackVars)),a&&(a=","+a+","+e.vl_l+","+e.vl_l2+",");if(a){c=0;for(p=a.split(",");c<p.length;c++)0<=d.indexOf(","+p[c]+",")&&h.push(p[c]);h.length&&(d=","+h.join(",")+",")}h=0;for(c=e.va_t.length;h<c;h++)a=e.va_t[h],0<=d.indexOf(","+a+",")&&"undefined"!==typeof e[a]&&null!==e[a]&&""!==e[a]&&(t[a]=e[a],v=!0)}g.includeContextData(e,
t).store_populated&&(v=!0);v&&this.d.api.signals(t,"c_").submit()}}};a.loadModule("DIL");a.DIL.d=c;return h.message?h.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(t){return this.handle(t,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(a){var c=[],e,d,g,h,l;if(a===Object(a)){e=a.names;if(e instanceof Array&&(g=e.length))for(d=0;d<g;d++)h=e[d],"string"===typeof h&&h.length&&c.push(h);a=a.iteratedNames;if(a instanceof Array&&
(g=a.length))for(d=0;d<g;d++)if(e=a[d],e===Object(e)&&(h=e.name,l=parseInt(e.maxIndex,10),"string"===typeof h&&h.length&&!isNaN(l)&&0<=l))for(e=0;e<=l;e++)c.push(h+e);if(c.length)return c.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(a,c){var e={},d=!1;if(a.contextData===Object(a.contextData)){var g=a.contextData,h=this.options.replaceContextDataPeriodsWith,
l=this.options.filterFromContextVariables,t={},v,p,n,w;"string"===typeof h&&h.length||(h="_");if(l instanceof Array)for(v=0,p=l.length;v<p;v++)n=l[v],this.dil.validators.isPopulatedString(n)&&(t[n]=!0);for(w in g)!g.hasOwnProperty(w)||t[w]||!(l=g[w])&&"number"!==typeof l||(w=("contextData."+w).replace(/\./g,h),c[w]=l,d=!0)}e.store_populated=d;return e}};
DIL.modules.GA={dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e){try{this.tv=this.arr=this.dil=null;this.errorMessage="";this.signals={};this.hasSignals=!1;var d={name:"DIL GA Module Error"},g="";c instanceof DIL?(this.dil=c,d.partner=this.dil.api.getPartner()):(g="dilInstance is not a valid instance of DIL",
d.message=g,DIL.errorModule.handleError(d));a instanceof Array&&a.length?this.arr=a:(g="gaArray is not an array or is empty",d.message=g,DIL.errorModule.handleError(d));this.tv=this.constructTrackVars(e);this.errorMessage=g}catch(h){this.handle(h,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(a){var c=[],e,d,g,h;if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){g=this.defaultTrackVars;h={};e=0;for(d=g.length;e<d;e++)h[g[e]]=
!0;this.defaultTrackVarsObj=h}else h=this.defaultTrackVarsObj;if(a===Object(a)){a=a.names;if(a instanceof Array&&(d=a.length))for(e=0;e<d;e++)g=a[e],"string"===typeof g&&g.length&&g in h&&c.push(g);if(c.length)return c}return this.defaultTrackVars},constructGAObj:function(a){var c={};a=a instanceof Array?a:this.arr;var e,d,g,h;e=0;for(d=a.length;e<d;e++)g=a[e],g instanceof Array&&g.length&&(g=[],h=a[e],g instanceof Array&&h instanceof Array&&Array.prototype.push.apply(g,h),h=g.shift(),"string"===
typeof h&&h.length&&(c[h]instanceof Array||(c[h]=[]),c[h].push(g)));return c},addToSignals:function(a,c){if("string"!==typeof a||""===a||null==c||""===c)return!1;this.signals[a]instanceof Array||(this.signals[a]=[]);this.signals[a].push(c);return this.hasSignals=!0},constructSignals:function(){var a=this.constructGAObj(),c={_setAccount:function(a){this.addToSignals("c_accountId",a)},_setCustomVar:function(a,c,d){"string"===typeof c&&c.length&&this.addToSignals("c_"+c,d)},_addItem:function(a,c,d,e,
g,h){this.addToSignals("c_itemOrderId",a);this.addToSignals("c_itemSku",c);this.addToSignals("c_itemName",d);this.addToSignals("c_itemCategory",e);this.addToSignals("c_itemPrice",g);this.addToSignals("c_itemQuantity",h)},_addTrans:function(a,c,d,e,g,h,l,t){this.addToSignals("c_transOrderId",a);this.addToSignals("c_transAffiliation",c);this.addToSignals("c_transTotal",d);this.addToSignals("c_transTax",e);this.addToSignals("c_transShipping",g);this.addToSignals("c_transCity",h);this.addToSignals("c_transState",
l);this.addToSignals("c_transCountry",t)},_trackSocial:function(a,c,d,e){this.addToSignals("c_socialNetwork",a);this.addToSignals("c_socialAction",c);this.addToSignals("c_socialTarget",d);this.addToSignals("c_socialPagePath",e)}},e=this.tv,d,g,h,l,t,v;d=0;for(g=e.length;d<g;d++)if(h=e[d],a.hasOwnProperty(h)&&c.hasOwnProperty(h)&&(v=a[h],v instanceof Array))for(l=0,t=v.length;l<t;l++)c[h].apply(this,v[l])},submit:function(){try{if(""!==this.errorMessage)return this.errorMessage;this.constructSignals();
return this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present"}catch(a){return this.handle(a,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(a,c,e){try{this.callback=this.dil=null,this.errorMessage=
"",a instanceof DIL?(this.dil=a,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(c)?c:"aam_ga",this.delimiter=this.v(e)?e:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(d){this.handle(d,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(a){var c,e,d,g,h,l;l=!1;var t=1;if(a===Object(a)&&(c=a.stuff)&&c instanceof Array&&(e=c.length))for(a=0;a<e;a++)if((d=
c[a])&&d===Object(d)&&(g=d.cn,h=d.cv,g===this.cookieName&&this.v(h))){l=!0;break}if(l){c=h.split(this.delimiter);"undefined"===typeof window._gaq&&(window._gaq=[]);d=window._gaq;a=0;for(e=c.length;a<e&&!(l=c[a].split("="),h=l[0],l=l[1],this.v(h)&&this.v(l)&&d.push(["_setCustomVar",t++,h,l,1]),t>this.LIMIT);a++);this.errorMessage=1<t?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"===typeof this.callback)return this.callback()},
submit:function(){try{var a=this;if(""!==this.errorMessage)return this.errorMessage;this.dil.api.afterResult(function(c){a.process(c)}).submit();return"DIL.modules.GA.Stuffer.submit() successful"}catch(c){return this.handle(c,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};
DIL.modules.Peer39={aid:"",dil:null,optionals:null,errorMessage:"",calledBack:!1,script:null,scriptsSent:[],returnedData:[],handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e){try{this.dil=null;this.errorMessage="";this.calledBack=!1;this.optionals=e===Object(e)?e:{};e={name:"DIL Peer39 Module Error"};var d=[],g="";this.isSecurePageButNotEnabled(document.location.protocol)&&(g="Module has not been enabled for a secure page",d.push(g),e.message=g,DIL.errorModule.handleError(e));c instanceof
DIL?(this.dil=c,e.partner=this.dil.api.getPartner()):(g="dilInstance is not a valid instance of DIL",d.push(g),e.message=g,DIL.errorModule.handleError(e));"string"===typeof a&&a.length?this.aid=a:(g="aid is not a string or is empty",d.push(g),e.message=g,DIL.errorModule.handleError(e));this.errorMessage=d.join("\n")}catch(h){this.handle(h,"DIL.modules.Peer39.init() caught error with message ",this.dil)}finally{return this}},isSecurePageButNotEnabled:function(a){return"https:"===a&&!0!==this.optionals.enableHTTPS?
!0:!1},constructSignals:function(){var a=this,c=this.constructScript(),e=DIL.variables.scriptNodeList[0];window["afterFinished_"+this.aid]=function(){try{var c=a.processData(p39_KVP_Short("c_p","|").split("|"));c.hasSignals&&a.dil.api.signals(c.signals).submit()}catch(e){}finally{a.calledBack=!0,"function"===typeof a.optionals.afterResult&&a.optionals.afterResult()}};e.parentNode.insertBefore(c,e);this.scriptsSent.push(c);return"Request sent to Peer39"},processData:function(a){var c,e,d,g,h={},l=
!1;this.returnedData.push(a);if(a instanceof Array)for(c=0,e=a.length;c<e;c++)d=a[c].split("="),g=d[0],d=d[1],g&&isFinite(d)&&!isNaN(parseInt(d,10))&&(h[g]instanceof Array||(h[g]=[]),h[g].push(d),l=!0);return{hasSignals:l,signals:h}},constructScript:function(){var a=document.createElement("script"),c=this.optionals,e=c.scriptId,d=c.scriptSrc,c=c.scriptParams;a.id="string"===typeof e&&e.length?e:"peer39ScriptLoader";a.type="text/javascript";"string"===typeof d&&d.length?a.src=d:(a.src=document.location.protocol+
"//stags.peer39.net/"+this.aid+"/trg_"+this.aid+".js","string"===typeof c&&c.length&&(a.src+="?"+c));return a},submit:function(){try{return""!==this.errorMessage?this.errorMessage:this.constructSignals()}catch(a){return this.handle(a,"DIL.modules.Peer39.submit() caught error with message ",this.dil)}}};


/*
 Start ActivityMap Module

 The following module enables ActivityMap tracking in Adobe Analytics. ActivityMap
 allows you to view data overlays on your links and content to understand how
 users engage with your web site. If you do not intend to use ActivityMap, you
 can remove the following block of code from your AppMeasurement.js file.
 Additional documentation on how to configure ActivityMap is available at:
 https://marketing.adobe.com/resources/help/en_US/analytics/activitymap/getting-started-admins.html
*/
function AppMeasurement_Module_ActivityMap(f){function g(a,d){var b,c,n;if(a&&d&&(b=e.c[d]||(e.c[d]=d.split(","))))for(n=0;n<b.length&&(c=b[n++]);)if(-1<a.indexOf(c))return null;p=1;return a}function q(a,d,b,c,e){var g,h;if(a.dataset&&(h=a.dataset[d]))g=h;else if(a.getAttribute)if(h=a.getAttribute("data-"+b))g=h;else if(h=a.getAttribute(b))g=h;if(!g&&f.useForcedLinkTracking&&e&&(g="",d=a.onclick?""+a.onclick:"")){b=d.indexOf(c);var l,k;if(0<=b){for(b+=10;b<d.length&&0<="= \t\r\n".indexOf(d.charAt(b));)b++;
if(b<d.length){h=b;for(l=k=0;h<d.length&&(";"!=d.charAt(h)||l);)l?d.charAt(h)!=l||k?k="\\"==d.charAt(h)?!k:0:l=0:(l=d.charAt(h),'"'!=l&&"'"!=l&&(l=0)),h++;if(d=d.substring(b,h))a.e=new Function("s","var e;try{s.w."+c+"="+d+"}catch(e){}"),a.e(f)}}}return g||e&&f.w[c]}function r(a,d,b){var c;return(c=e[d](a,b))&&(p?(p=0,c):g(k(c),e[d+"Exclusions"]))}function s(a,d,b){var c;if(a&&!(1===(c=a.nodeType)&&(c=a.nodeName)&&(c=c.toUpperCase())&&t[c])&&(1===a.nodeType&&(c=a.nodeValue)&&(d[d.length]=c),b.a||
b.t||b.s||!a.getAttribute||((c=a.getAttribute("alt"))?b.a=c:(c=a.getAttribute("title"))?b.t=c:"IMG"==(""+a.nodeName).toUpperCase()&&(c=a.getAttribute("src")||a.src)&&(b.s=c)),(c=a.childNodes)&&c.length))for(a=0;a<c.length;a++)s(c[a],d,b)}function k(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$",
"mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=f;var m=window;m.s_c_in||(m.s_c_il=[],m.s_c_in=0);e._il=m.s_c_il;e._in=m.s_c_in;e._il[e._in]=e;m.s_c_in++;e._c="s_m";e.c={};var p=0,t={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,b,c=f.contextData,e=f.linkObject;(a=f.pageName||f.pageURL)&&(d=r(e,"link",f.linkName))&&(b=r(e,"region"))&&(c["a.activitymap.page"]=a.substring(0,
255),c["a.activitymap.link"]=128<d.length?d.substring(0,128):d,c["a.activitymap.region"]=127<b.length?b.substring(0,127):b,c["a.activitymap.pageIDType"]=f.pageName?1:0)};e.link=function(a,d){var b;if(d)b=g(k(d),e.linkExclusions);else if((b=a)&&!(b=q(a,"sObjectId","s-object-id","s_objectID",1))){var c,f;(f=g(k(a.innerText||a.textContent),e.linkExclusions))||(s(a,c=[],b={a:void 0,t:void 0,s:void 0}),(f=g(k(c.join(""))))||(f=g(k(b.a?b.a:b.t?b.t:b.s?b.s:void 0)))||!(c=(c=a.tagName)&&c.toUpperCase?c.toUpperCase():
"")||("INPUT"==c||"SUBMIT"==c&&a.value?f=g(k(a.value)):"IMAGE"==c&&a.src&&(f=g(k(a.src)))));b=f}return b};e.region=function(a){for(var d,b=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=q(a,b,b,b))return d;if("BODY"==a.nodeName)return"BODY"}}}
/* End ActivityMap Module */
/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ===============

AppMeasurement for JavaScript version: 1.8.0
Copyright 1996-2016 Adobe, Inc. All Rights Reserved
More info available at http://www.adobe.com/marketing-cloud.html
*/
function AppMeasurement(){var a=this;a.version="1.8.0";var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0);a._il=h.s_c_il;a._in=h.s_c_in;a._il[a._in]=a;h.s_c_in++;a._c="s_c";var n=h.AppMeasurement.Ob;n||(n=null);var p=h,l,r;try{for(l=p.parent,r=p.location;l&&l.location&&r&&""+l.location!=""+r&&p.location&&""+l.location!=""+p.location&&l.location.host==r.host;)p=l,l=p.parent}catch(s){}a.P=function(a){try{console.log(a)}catch(b){}};a.La=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||
0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.vb=function(){var c=h.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.cookieDomain&&
!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.cookieDomain=0<d?c.substring(d):c}return a.cookieDomain};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.vb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=
e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+5+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toGMTString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.K=[];a.ia=function(c,b,d){if(a.Ea)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,k=["webkitvisibilitychange",
"visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ja)for(a.ja=1,d=0;d<k.length;d++)a.d.addEventListener(k[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ja=0,a.delayReady())});f=1;e=0}else d||a.p("_d")&&(f=1);f&&(a.K.push({m:c,a:b,t:e}),a.ja||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.p("_d")?b=1:a.xa();0<a.K.length;){d=a.K.shift();if(b&&!d.t&&d.t>c){a.K.unshift(d);
setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Ea=1;a[d.m].apply(a,d.a);a.Ea=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ia("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,k="";e=f="";if(a.lightProfileID)d=a.O,(k=a.lightTrackVars)&&(k=","+k+","+a.na.join(",")+",");else{d=a.g;if(a.pe||
a.linkType)k=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(k=a[e].Mb,f=a[e].Lb));k&&(k=","+k+","+a.G.join(",")+",");f&&k&&(k+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!k||0<=k.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.r=function(c,b,d,f,e){var g="",k,m,h,t,l=0;"contextData"==c&&(c="c");if(b){for(k in b)if(!(Object.prototype[k]||e&&k.substring(0,e.length)!=e)&&b[k]&&(!d||0<=d.indexOf(","+(f?f+
".":"")+k+","))){h=!1;if(l)for(m=0;m<l.length;m++)k.substring(0,l[m].length)==l[m]&&(h=!0);if(!h&&(""==g&&(g+="&"+c+"."),m=b[k],e&&(k=k.substring(e.length)),0<k.length))if(h=k.indexOf("."),0<h)m=k.substring(0,h),h=(e?e:"")+m+".",l||(l=[]),l.push(h),g+=a.r(m,b,d,f,h);else if("boolean"==typeof m&&(m=m?"true":"false"),m){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(h=k.substring(0,4),t=k.substring(4),k){case "transactionID":k="xact";break;case "channel":k="ch";break;case "campaign":k=
"v0";break;default:a.La(t)&&("prop"==h?k="c"+t:"eVar"==h?k="v"+t:"list"==h?k="l"+t:"hier"==h&&(k="h"+t,m=m.substring(0,255)))}g+="&"+a.escape(k)+"="+a.escape(m)}}""!=g&&(g+="&."+c)}return g};a.usePostbacks=0;a.yb=function(){var c="",b,d,f,e,g,k,m,h,l="",p="",q=e="";if(a.lightProfileID)b=a.O,(l=a.lightTrackVars)&&(l=","+l+","+a.na.join(",")+",");else{b=a.g;if(a.pe||a.linkType)l=a.linkTrackVars,p=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(l=a[e].Mb,p=a[e].Lb));
l&&(l=","+l+","+a.G.join(",")+",");p&&(p=","+p+",",l&&(l+=",events,"));a.events2&&(q+=(""!=q?",":"")+a.events2)}if(a.visitor&&a.visitor.getCustomerIDs){e=n;if(g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.r("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.r("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,
4);k=e.substring(4);!g&&"events"==e&&q&&(g=q,q="");if(g&&(!l||0<=l.indexOf(","+e+","))){switch(e){case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e="D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e="aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),
g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e="cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e="vvp";break;case "currencyCode":e=
"cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":q&&(g+=(""!=g?",":"")+q);if(p)for(k=
g.split(","),g="",f=0;f<k.length;f++)m=k[f],h=m.indexOf("="),0<=h&&(m=m.substring(0,h)),h=m.indexOf(":"),0<=h&&(m=m.substring(0,h)),0<=p.indexOf(","+m+",")&&(g+=(g?",":"")+k[f]);break;case "events2":g="";break;case "contextData":c+=a.r("c",a[e],l,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;case "deleteLightProfiles":e=
"mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.r("mts",a[e],l,e));g="";break;default:a.La(k)&&("prop"==f?e="c"+k:"eVar"==f?e="v"+k:"list"==f?e="l"+k:"hier"==f&&(e="h"+k,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}return c};a.D=function(a){var b=a.tagName;if("undefined"!=""+a.Rb||"undefined"!=""+a.Hb&&"HTML"!=(""+a.Hb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||
"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.Ha=function(a){var b=h.location,d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.L=function(c){var b=a.D(c),d,f,e="",
g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.Ha(c),e)?{id:e.substring(0,100),type:g}:0};a.Pb=function(c){for(var b=a.D(c),d=a.L(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=
a.D(c),d=a.L(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Gb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,k;a.oa=1;d||(a.oa=0,d=a.clickObject);if(d){c=a.D(d);for(b=a.L(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.D(d),b=a.L(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var m=d.onclick?""+d.onclick:"";if(0<=m.indexOf(".tl(")||0<=m.indexOf(".trackLink("))d=0}}else a.oa=1;!e&&d&&
(e=a.Ha(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var l=0,p=0,n;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(m=e.toLowerCase(),g=m.indexOf("?"),k=m.indexOf("#"),0<=g?0<=k&&k<g&&(g=k):g=k,0<=g&&(m=m.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),k=0;k<g.length;k++)(n=g[k])&&m.substring(m.length-(n.length+1))=="."+n&&(f="d");if(a.trackExternalLinks&&!f&&(m=e.toLowerCase(),a.Ka(m)&&(a.linkInternalFilters||(a.linkInternalFilters=
h.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),l=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(k=0;k<g.length;k++)n=g[k],0<=m.indexOf(n)&&(p=1);p?l&&(f="e"):l||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),h.s_objectID&&(b.id=h.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+
(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.zb=function(){var c=a.oa,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.ActivityMap){var b={},d=0,e=a.cookieRead("s_sq"),g=e?e.split("&"):0,k,m,h,e=0;if(g)for(k=0;k<g.length;k++)m=g[k].split("="),f=a.unescape(m[0]).split(","),
m=a.unescape(m[1]),b[m]=f;f=a.account.split(",");k={};for(h in a.contextData)h&&!Object.prototype[h]&&"a.activitymap."==h.substring(0,14)&&(k[h]=a.contextData[h],a.contextData[h]="");a.e=a.r("c",k)+(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(m in b)if(!Object.prototype[m])for(h=0;h<f.length;h++)for(e&&(g=b[m].join(","),g==a.account&&(a.e+=("&"!=m.charAt(0)?"&":"")+m,b[m]=[],d=1)),k=0;k<b[m].length;k++)g=b[m][k],g==f[h]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=m.charAt(0)?"&":"")+m+"&u=0"),b[m].splice(k,
1),d=1);c||(d=1);if(d){e="";k=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),k=1);for(m in b)!Object.prototype[m]&&0<k&&0<b[m].length&&(e+=(e?"&":"")+a.escape(b[m].join(","))+"="+a.escape(m),k--);a.cookieWrite("s_sq",e)}}}return c};a.Ab=function(){if(!a.Kb){var c=new Date,b=p.location,d,f,e=f=d="",g="",k="",h="1.2",l=a.cookieWrite("s_cc","true",0)?"Y":"N",n="",q="";if(c.setUTCDate&&(h="1.3",(0).toPrecision&&(h="1.5",c=[],c.forEach))){h="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(h="1.7",
c.reduce&&(h="1.8",h.trim&&(h="1.8.1",Date.parse&&(h="1.8.2",Object.create&&(h="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;k=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),n=a.b.Qb(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),q=a.b.connectionType}catch(u){}a.resolution=
d;a.colorDepth=f;a.javascriptVersion=h;a.javaEnabled=e;a.cookiesEnabled=l;a.browserWidth=g;a.browserHeight=k;a.connectionType=q;a.homepage=n;a.Kb=1}};a.Q={};a.loadModule=function(c,b){var d=a.Q[c];if(!d){d=h["AppMeasurement_Module_"+c]?new h["AppMeasurement_Module_"+c](a):{};a.Q[c]=a[c]=d;d.cb=function(){return d.hb};d.ib=function(b){if(d.hb=b)a[c+"_onLoad"]=b,a.ia(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.cb,set:d.ib}):d._olc=1}catch(f){d._olc=
1}}b&&(a[c+"_onLoad"]=b,a.ia(c+"_onLoad",[a,d],1)||b(a,d))};a.p=function(c){var b,d;for(b in a.Q)if(!Object.prototype[b]&&(d=a.Q[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Cb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};
a.R=function(c,b){var d,f,e,g,k,h;for(d=0;2>d;d++)for(f=0<d?a.Aa:a.g,e=0;e<f.length;e++)if(g=f[e],(k=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(h in a[g])k[h]||(k[h]=a[g][h]);a[g]=k}};a.Ua=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.Aa:a.g,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.ub=function(a){var b,d,f,e,g,k=0,h,l="",n="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(h=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,
"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?k=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(k=",p,ei,"),k&&h)))){if((a=h.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=k.indexOf(","+e.substring(0,d)+",")?l+=(l?"&":"")+e:n+=(n?"&":"")+e;l&&n?h=l+"&"+n:n=""}d=253-(h.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):"")+
"?"+h}return a};a.$a=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ea=!1;a.I=!1;a.kb=function(){a.I=!0;a.j()};a.ca=!1;a.V=!1;a.gb=function(c){a.marketingCloudVisitorID=c;a.V=!0;a.j()};a.fa=!1;a.W=!1;a.lb=function(c){a.visitorOptedOut=c;a.W=!0;
a.j()};a.Z=!1;a.S=!1;a.Wa=function(c){a.analyticsVisitorID=c;a.S=!0;a.j()};a.ba=!1;a.U=!1;a.Ya=function(c){a.audienceManagerLocationHint=c;a.U=!0;a.j()};a.aa=!1;a.T=!1;a.Xa=function(c){a.audienceManagerBlob=c;a.T=!0;a.j()};a.Za=function(c){a.maxDelay||(a.maxDelay=250);return a.p("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.da=!1;a.H=!1;a.xa=function(){a.H=!0;a.j()};a.isReadyToTrack=function(){var c=!0,b=a.visitor,d,f,e;a.ea||a.I||(a.$a(a.kb)?a.I=!0:a.ea=!0);if(a.ea&&!a.I)return!1;b&&
b.isAllowed()&&(a.ca||a.marketingCloudVisitorID||!b.getMarketingCloudVisitorID||(a.ca=!0,a.marketingCloudVisitorID=b.getMarketingCloudVisitorID([a,a.gb]),a.marketingCloudVisitorID&&(a.V=!0)),a.fa||a.visitorOptedOut||!b.isOptedOut||(a.fa=!0,a.visitorOptedOut=b.isOptedOut([a,a.lb]),a.visitorOptedOut!=n&&(a.W=!0)),a.Z||a.analyticsVisitorID||!b.getAnalyticsVisitorID||(a.Z=!0,a.analyticsVisitorID=b.getAnalyticsVisitorID([a,a.Wa]),a.analyticsVisitorID&&(a.S=!0)),a.ba||a.audienceManagerLocationHint||!b.getAudienceManagerLocationHint||
(a.ba=!0,a.audienceManagerLocationHint=b.getAudienceManagerLocationHint([a,a.Ya]),a.audienceManagerLocationHint&&(a.U=!0)),a.aa||a.audienceManagerBlob||!b.getAudienceManagerBlob||(a.aa=!0,a.audienceManagerBlob=b.getAudienceManagerBlob([a,a.Xa]),a.audienceManagerBlob&&(a.T=!0)),c=a.ca&&!a.V&&!a.marketingCloudVisitorID,b=a.Z&&!a.S&&!a.analyticsVisitorID,d=a.ba&&!a.U&&!a.audienceManagerLocationHint,f=a.aa&&!a.T&&!a.audienceManagerBlob,e=a.fa&&!a.W,c=c||b||d||f||e?!1:!0);a.da||a.H||(a.Za(a.xa)?a.H=!0:
a.da=!0);a.da&&!a.H&&(c=!1);return c};a.o=n;a.u=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.pb=c;f.ob=b;f.mb=d;a.o==n&&(a.o=[]);a.o.push(f);0==a.u&&(a.u=setInterval(a.j,100))};a.j=function(){var c;if(a.isReadyToTrack()&&(a.jb(),a.o!=n))for(;0<a.o.length;)c=a.o.shift(),c.ob.apply(c.pb,c.mb)};a.jb=function(){a.u&&(clearInterval(a.u),a.u=0)};a.eb=function(c){var b,d,f=n,e=n;if(!a.isReadyToTrack()){b=[];if(c!=n)for(d in f={},c)f[d]=c[d];e={};a.Ua(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,
a.track,b);return!0}return!1};a.wb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t="+a.escape(f.getDate()+"/"+f.getMonth()+
"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+f.getDay()+" "+f.getTimezoneOffset());a.visitor&&a.visitor.getAuthState&&(a.authState=a.visitor.getAuthState());a.p("_s");a.eb(c)||(b&&a.R(b),c&&(d={},a.Ua(d,0),a.R(c)),a.Cb()&&!a.visitorOptedOut&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=a.wb()),a.Gb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.visitor&&!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=
a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)),a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=h.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Va||(a.referrer=p.document.referrer),a.Va=1,a.referrer=a.ub(a.referrer),a.p("_g")),a.zb()&&!a.abort&&(a.Ab(),g+=a.yb(),a.Fb(e,g),a.p("_t"),a.referrer=""))),c&&a.R(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=
h.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0};a.za=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.za.push([c,b]):a.debugTracking&&a.P("DEBUG: Non function type passed to registerPreTrackCallback")};a.bb=function(c){a.wa(a.za,c)};a.ya=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.ya.push([c,b]):a.debugTracking&&a.P("DEBUG: Non function type passed to registerPostTrackCallback")};
a.ab=function(c){a.wa(a.ya,c)};a.wa=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1];e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.P(g.message)}}};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.l=c,a.A=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=
a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.Fb=function(c,b){var d,f=a.trackingServer;d="";var e=a.dc,g="sc.",h=a.visitorNamespace;f?a.trackingServerSecure&&a.ssl&&(f=a.trackingServerSecure):(h||(h=a.account,f=h.indexOf(","),0<=f&&(h=h.substring(0,
f)),h=h.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),e=e?(""+e).toLowerCase():"d1","2o7.net"==d&&("d1"==e?e="112":"d2"==e&&(e="122"),g=""),f=h+"."+e+"."+g+d);d=a.ssl?"https://":"http://";e=a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks;d+=f+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(e?"10":"1")+"/JS-"+a.version+(a.Jb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+c+"?AQB=1&ndh=1&pf=1&"+(e?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+b+"&AQE=1";a.bb(d);
a.sb(d);a.ka()};a.Ta=/{(%?)(.*?)(%?)}/;a.Nb=RegExp(a.Ta.source,"g");a.tb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.Nb),e=0;e<f.length;++e){var g=f[e],h=g.match(a.Ta),l="";"%"==h[1]&&"timezone_offset"==h[2]?l=(new Date).getTimezoneOffset():"%"==h[1]&&"timestampz"==h[2]&&(l=a.xb());d.c=d.c.replace(g,a.escape(l))}}};a.xb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));
return a.k(4,c.getFullYear())+"-"+a.k(2,c.getMonth()+1)+"-"+a.k(2,c.getDate())+"T"+a.k(2,c.getHours())+":"+a.k(2,c.getMinutes())+":"+a.k(2,c.getSeconds())+(0<c.getTimezoneOffset()?"-":"+")+a.k(2,b.getUTCHours())+":"+a.k(2,b.getUTCMinutes())};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.ta={};a.doPostbacks=function(c){if("object"==typeof c)if(a.tb(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);
else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.ta[d.id]=new Image,a.ta[d.id].alt="",a.ta[d.id].src=d.c)}};a.sb=function(c){a.i||a.Bb();a.i.push(c);a.ma=a.C();a.Ra()};a.Bb=function(){a.i=a.Db();a.i||(a.i=[])};a.Db=function(){var c,b;if(a.ra()){try{(b=h.localStorage.getItem(a.pa()))&&(c=h.JSON.parse(b))}catch(d){}return c}};a.ra=function(){var c=!0;a.trackOffline&&
a.offlineFilename&&h.localStorage&&h.JSON||(c=!1);return c};a.Ia=function(){var c=0;a.i&&(c=a.i.length);a.q&&c++;return c};a.ka=function(){if(a.q&&(a.B&&a.B.complete&&a.B.F&&a.B.va(),a.q))return;a.Ja=n;if(a.qa)a.ma>a.N&&a.Pa(a.i),a.ua(500);else{var c=a.nb();if(0<c)a.ua(c);else if(c=a.Fa())a.q=1,a.Eb(c),a.Ib(c)}};a.ua=function(c){a.Ja||(c||(c=0),a.Ja=setTimeout(a.ka,c))};a.nb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.C()-a.Oa;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-
c};a.Fa=function(){if(0<a.i.length)return a.i.shift()};a.Eb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.P(b)}};a.fb=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.Y=!1;var q;try{q=JSON.parse('{"x":"y"}')}catch(u){q=null}q&&"y"==q.x?(a.Y=!0,a.X=function(a){return JSON.parse(a)}):h.$&&h.$.parseJSON?(a.X=function(a){return h.$.parseJSON(a)},a.Y=!0):a.X=function(){return null};a.Ib=function(c){var b,
d,f;a.fb()&&2047<c.length&&("undefined"!=typeof XMLHttpRequest&&(b=new XMLHttpRequest,"withCredentials"in b?d=1:b=0),b||"undefined"==typeof XDomainRequest||(b=new XDomainRequest,d=2),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.Y?b.Ba=!0:b=0));!b&&a.Sa&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?
f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof h.InstallTrigger||(b.abort=function(){b.src=n}));b.Da=function(){try{b.F&&(clearTimeout(b.F),b.F=0)}catch(a){}};b.onload=b.va=function(){a.ab(c);b.Da();a.rb();a.ga();a.q=0;a.ka();if(b.Ba){b.Ba=!1;try{a.doPostbacks(a.X(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.Ga=function(){b.Da();(a.trackOffline||a.qa)&&a.q&&a.i.unshift(a.qb);a.q=0;a.ma>a.N&&a.Pa(a.i);
a.ga();a.ua(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.va():b.Ga())};a.Oa=a.C();if(1==d||2==d){var e=c.indexOf("?");f=c.substring(0,e);e=c.substring(e+1);e=e.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,"");1==d?(b.open("POST",f,!0),b.send(e)):2==d&&(b.open("POST",f),b.send(e))}else if(b.src=c,3==d){if(a.Ma)try{f.removeChild(a.Ma)}catch(g){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Ma=a.B}b.F=setTimeout(function(){b.F&&(b.complete?b.va():(a.trackOffline&&
b.abort&&b.abort(),b.Ga()))},5E3);a.qb=c;a.B=h["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.J||a.A)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ha=setTimeout(a.ga,a.forcedLinkTrackingTimeout)};a.rb=function(){if(a.ra()&&!(a.Na>a.N))try{h.localStorage.removeItem(a.pa()),a.Na=a.C()}catch(c){}};a.Pa=function(c){if(a.ra()){a.Ra();try{h.localStorage.setItem(a.pa(),h.JSON.stringify(c)),a.N=a.C()}catch(b){}}};a.Ra=function(){if(a.trackOffline){if(!a.offlineLimit||
0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Fa()}};a.forceOffline=function(){a.qa=!0};a.forceOnline=function(){a.qa=!1};a.pa=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.C=function(){return(new Date).getTime()};a.Ka=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Jb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==
d._c&&d.tagContainerName==c){a.R(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,
cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d){var f;b||(b=a.pageURL?a.pageURL:h.location);d||(d="&");return c&&b&&(b=""+b,f=b.indexOf("?"),0<=f&&(b=d+b.substring(f+1)+d,f=b.indexOf(d+c+"="),0<=f&&(b=b.substring(f+d.length+c.length+1),f=b.indexOf(d),0<=f&&(b=b.substring(0,f)),0<b.length)))?a.unescape(b):""}};a.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.na="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.O=a.na.slice(0);a.Aa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" ");
for(l=0;250>=l;l++)76>l&&(a.g.push("prop"+l),a.O.push("prop"+l)),a.g.push("eVar"+l),a.O.push("eVar"+l),6>l&&a.g.push("hier"+l),4>l&&a.g.push("list"+l);l="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" ");a.g=a.g.concat(l);a.G=a.G.concat(l);a.ssl=0<=h.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename=
"AppMeasurement.offline";a.Oa=0;a.ma=0;a.N=0;a.Na=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=h;a.d=h.document;try{if(a.Sa=!1,navigator){var v=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=v.indexOf("MSIE ")||0<=v.indexOf("Trident/")&&0<=v.indexOf("Windows NT 6"))a.Sa=!0}}catch(w){}a.ga=function(){a.ha&&(h.clearTimeout(a.ha),a.ha=n);a.l&&a.J&&a.l.dispatchEvent(a.J);a.A&&("function"==typeof a.A?a.A():a.l&&a.l.href&&(a.d.location=
a.l.href));a.l=a.J=a.A=0};a.Qa=function(){a.b=a.d.body;a.b?(a.v=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Ca)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.v,!1);else{a.b.removeEventListener("click",a.v,!0);a.Ca=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.M&&a.M==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=
0;else{var k=a.M=a.clickObject;a.la&&(clearTimeout(a.la),a.la=0);a.la=setTimeout(function(){a.M==k&&(a.M=0)},1E4);f=a.Ia();a.track();if(f<a.Ia()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Ka(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||h.name&&d==h.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=new h.MouseEvent}if(b){try{b.initMouseEvent("click",
c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(n){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.l=c.target,a.J=b)}}}}}catch(p){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.v):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&
h.MouseEvent)&&(a.Ca=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.v,!0)),a.b.addEventListener("click",a.v,!1))):setTimeout(a.Qa,30)};a.Qa();a.loadModule("ActivityMap")}
function s_gi(a){var h,n=window.s_c_il,p,l,r=a.split(","),s,q,u=0;if(n)for(p=0;!u&&p<n.length;){h=n[p];if("s_c"==h._c&&(h.account||h.oun))if(h.account&&h.account==a)u=1;else for(l=h.account?h.account:h.oun,l=h.allAccounts?h.allAccounts:l.split(","),s=0;s<r.length;s++)for(q=0;q<l.length;q++)r[s]==l[q]&&(u=1);p++}u||(h=new AppMeasurement);h.setAccount?h.setAccount(a):h.sa&&h.sa(a);return h}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);
function s_pgicq(){var a=window,h=a.s_giq,n,p,l;if(h)for(n=0;n<h.length;n++)p=h[n],l=s_gi(p.oun),l.setAccount(p.un),l.setTagContainer(p.tagContainerName);a.s_giq=0}s_pgicq();

////================================================================================================================
///			FDX Page Level s_code Execution
//==================================================================================================================

/*ADOBE: Most of the remaining code will not be needed for MVP1. The Visitor Authentication code will reside in the Visitor Service API. Axciom and ExactTarget code should be moved
to doPlugins section */

function fdx_runSCode() {
	/* Dictates the use of s_code level page code handling. If this variable is on the page with any value the s_code page code will not be used. */
	/*fdx_beg*/
	if(typeof pgLvl =="undefined"){
		/*2.0.4.6 fdx_setLinkView. Get the Link Name from the cookie*/
		fdx_getLinkView();

		if ((typeof s.pageName == "undefined" || s.pageName =="" )&& typeof (_satellite.getVar("content:page name") !== "undefined") && _satellite.getVar("content:page name")){
			s.pageName = _satellite.getVar("content:page name");
			

		}
		s.pageName = s.pageName.toLowerCase();
		if(s.eVar43 == "undefined" || s.eVar43 == "" ){ /*Testing for s.eVar43*/
 			s.eVar43 = "P:" + s.pageName;
 		}
	s.prop43="D=v43"; /* Pass event based FQ Page Name with P: as page designator */

		//log debug errors
		try {

			//read and log the cookie
			var dbg = fdx_getCookie("fdx_debug")
			if(typeof dbg !== 'undefined') {
				//add info to eVar48, prop34 without unix time, list3 timestamp configurable
				//fdx_catVar('eVar48', ',', 'DBG_' + dbg.replace(/,/g,' %% '), false);

				for (var i = 0; i < dbg.split(',').length; i++) {
					//fdx_catVar('prop34', ' %% ', dbg.split(',')[i].split('|').slice(1).join('|'), false);
					var l3 = 'DBG_' + dbg.split(',')[i];
					
					// if (!fdx_config.debug.timestamp) {
						l3 = l3.split('|').slice(1).join('|');
					// }

					l3 = l3.substring(0, Math.min(255, l3.length));
					//fdx_catVar('list3', ',', l3, false);
				}

				s.events = s.apl(s.events,'event100',',',2)

				//delete the cookie
				fdx_setCookie("fdx_debug", "", -1, "/", ".fedex.com");
			}

		}catch(e){fdx_debug(e,"SC", "fdx_runSCode:log debug errors");}


		//fdx_getChannelPageName();

		//s.prop29=timestamp;

		// //Setup custom link tracking for mega menu.
		// fdx_glblLinkTracking();

		//s.eVar60=s.Util.getQueryParam('acxrid'); /* 1.1.0.43 - Acxiom Visitor ID/Recipient ID - looks for acxrid and passes to eVar60 */
		//s.eVar60=s.getValOnce(s.eVar60,'s_acxrid',0); /* 1.1.0.43 - Acxiom - acxrid */

		//setLinkView("hdr"+%this.title%);
		//3.0.18.3 - set up et_rid as the same way as acxrid
		s.eVar60=s.Util.getQueryParam('et_rid');
		s.eVar60=s.getValOnce(s.eVar60,'s_etrid',0); 
		var s_etrid= s.c_r("s_etrid");
		window.sc_s_etrid='';
		if ((typeof s_etrid !== "undefined") && (s_etrid !== null) && (s_etrid !== "")){ 
				s.getAndPersistValue(s_etrid, 'sc_s_etrid', 90);
				window.sc_s_etrid=s_etrid;
		}
		else{
			window.sc_s_etrid = s.c_r('sc_s_etrid');
		}

		//3.0.18.3 - ET_CID
		s.eVar80=s.Util.getQueryParam('et_cid'); /* ET_CID:the job ID identifies the email send - looks for et_cid and passes to eVar80 */
		s.eVar80=s.getValOnce(s.eVar80,'s_etcid',0); 
		/* 3.0.17.1 - Store the value in the s_acxrid cookie in our own cookie for 90 days */
		var s_acxrid = s.c_r('s_acxrid');
		window.sc_s_acxrid='';
		if ((typeof s_acxrid !== "undefined") && (s_acxrid !== null) && (s_acxrid !== "")){ 
				s.getAndPersistValue(s_acxrid, 'sc_s_acxrid', 90);
				window.sc_s_acxrid=s_acxrid;
		}
		else{
			window.sc_s_acxrid = s.c_r('sc_s_acxrid');
		}		

		var fcl_uuid = fdx_getCookie("fcl_uuid");
		window.sc_fcl_uuid='';
		// var customerIDs = new Object();

		//eVar4, eVar6, prop6, and event4 have been set up via page load rule
		// if ((!fcl_uuid) || (fcl_uuid == null) || (fcl_uuid == "undefined") || (fcl_uuid == "no")){ 
		// 	s.eVar4="Logged Out";
		// 	s.prop4="D=v4";
		// 	/* 2.0.5.1 - Store the value in the fcl_uuid cookie in our own cookie for 90 days */
		// 	/* If there's no fcl_uuid, then check whether s.pers has fcl_uuid or not, if so, get fcl_uuid from s.pers */	
		// 	window.sc_fcl_uuid=s.c_r('sc_fcl_uuid');
		// 	if (window.sc_fcl_uuid !== ''){
		// 		s.eVar6=window.sc_fcl_uuid;
		// 		s.prop6="D=v6";	
				
		// 	}
		// }
		// else{
		// 	s.eVar4="Logged In";
		// 	s.prop4="D=v4";
		// 	s.eVar6=fcl_uuid;
		// 	s.prop6="D=v6";
		// 	s.events = s.apl(s.events,'event4',',',2);
		// 	/* 2.0.5.1 - Store the value in the fcl_uuid cookie in our own cookie for 90 days */
		// 	s.getAndPersistValue(fcl_uuid, 'sc_fcl_uuid', 90);
		// 	window.sc_fcl_uuid=fcl_uuid;		    
		// }

		// /*1.1.8.2 Get OADR Code*/
		// var oadr=fdx_getOADRCode(s.pageName);
		// if(oadr!=""){s.eVar61 = "OADR_"+oadr;} 

		// /*1.1.9.3 Get mem_id*/
		// var memid=s.Util.getQueryParam('mem_id');
		// if(memid){s.eVar61  = "|MID_"+memid;}

		
	}/*fdx_end*/	
};

////================================================================================================================
///			FDX main entry callback function for s_code called from controller.
//==================================================================================================================
function fdx_initSCode() {
	try{
		
		//s_getLoadTime();
		
		//initialize variables
		fdx_initSCVars();

		//initialize plugins
		fdx_initPlugins();
    
		// //run SiteCatalyst
		fdx_runSCode();		
	}catch(e) {fdx_debug(e,"SC","fdx_initSCode");}
};

fdx_initSCode();

/*!
//# sourceURL=__s_code
*/
